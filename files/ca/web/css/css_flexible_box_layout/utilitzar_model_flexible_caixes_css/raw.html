<div>{{CSSRef}}</div>

<p>El model de caixes Flexible de CSS3 (<strong>Flexible Box </strong>en anglès), o <em>flexbox</em>, és un <a href="/en-US/docs/CSS/Layout_mode" title="/en-US/docs/CSS/Layout_model">mode de disseny</a>  que preveu la disposició dels elements en una pàgina de tal manera que els elements es comporten d'una forma predictible quan el disseny de la pàgina s'ha d'adaptar a diferents mides de pantalla i a diferents dispositius de visualització.</p>

<p>Per moltes aplicacions, el model de caixes flexible proporciona una millora soble el model de blocs perquè no utilitza flotadors (floats) ni els marges del contenidor flexible col·lapsen amb els marges dels seus continguts.</p>

<p>Molts dissenyadors/es troben que el model flexbox és més fàcil d'utilitzar. Els elements fills es poden col·locar en qualsevol direcció i poden tenir dimensions flexibles per tal d'adaptar-se a l'espai que es visualitza. Posicionar els elements fills és molt més fàcil també, i els dissenys complexos es poden realitzar de forma més senzilla i amb un codi més net, <span class="hps" style="line-height: inherit;">ja</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">que l'ordre</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">de presentació</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">dels</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">elements és</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">independent</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">de l'ordre</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">en el codi</span><span style="line-height: inherit;"> </span><span class="hps" style="line-height: inherit;">font</span><span style="line-height: inherit;">. Aquesta independència només afecta la representació visual de forma intencionada, tot deixant l'odre de la lectura i de la navegació al mateix ordre del codi font.</span><span style="line-height: inherit;"> </span></p>

<div class="note"><strong>Nota:</strong> Degut a que l'especificació del Model flexible de Caixes CSS  es troba en estat de Candidata a Recomanacio no tots els navegadors l'han implementat encara. La  implementació en navegadors amb el motor WebKit s'ha de prefixar amb   <code>-webkit</code>; Internet Explorer implementa una versió antiga de l'especificació, prefixada amb -ms- ; Opera 12.10 implementa la darrera versió de l'especificació, sense prefixe. Per estar al dia de l'estat de les compatibilitats veieu la taula de compatiblitats per a cada propietat.</div>

<p> </p>

<h2 id="El_concepte_de_les_caixes_flexibles">El concepte de les caixes flexibles</h2>

<p>Podem definir el disseny de caixa flexible (flex layout) com l'habilitat d'alterar l'amplada i l'alçada dels elements dins de la caixa flex, de la millor manera possible, és a dir, s'emplena l'espai disponible en qualsevol dispositiu. Un contenidor flex (flex container) expandeix elements que contingui per tal d'emplenar l'espai lliure disponible, o els encongeix per prevenir el sobreeiximent de la caixa.</p>

<p>L'algoritme del layout de Flexbox és agnòstic pel que fa a la direcció dels seus elements, de manera oposada al layout de bloc —que té un biaix vertical—, o el layout inline —que el té horitzontal. Així com el layout de bloc funciona bé per a les pàgines, li manca prou definició per a suportar aquells components d'una aplicació que requereixin canvis en l'orientació, estiraments o contraccions produïts en canviar d'agent d'usuari, tombar el dispositiu de vertical a horitzontal, o casos similars. El layout de Flexbox resulta especialment apropiat per components d'aplicació així com per layouts a petita escala, mentre que el (emergent) Grid layout està orientat als layouts d'una escala major. Tots dos formen part d'un esforç major del Grup de Treball de CSS (CSS Working Group) per proveïr una major interoperabilitat de les aplicacions web amb els diferents agents d'usuari, modes d'escriptura i altres demandes a nivell de flexibilitat.</p>

<p>[TRADUCCIÓ INACABADA]</p>

<h2 id="Flexible_boxes_vocabulary">Flexible boxes vocabulary</h2>

<p>While a discussion of flexible boxes is liberated from terms like horizontal/inline axis and vertical/block axis, it requires a new terminology to properly describe the model. Consider the following diagram when reviewing the vocabulary items below. It shows a flex container that has a <code>flex-direction</code> of <code>row</code>, meaning that the flex items follow each other horizontally across the main axis according to the established writing mode, the direction in which the element's text flows, in this case left-to-right.</p>

<p><img alt="flex_terms.png" class="default internal" src="/files/3739/flex_terms.png"></p>

<dl>
 <dt>Flex container</dt>
 <dd>The parent element in which flex items are contained. A flex container is defined using the <code>flex</code> or <code>inline-flex</code> values of the <a href="/en/CSS/display" rel="internal" title="display"><code>display</code></a> property.</dd>
 <dt>Flex item</dt>
 <dd>
 <p>Each child of a flex container becomes a flex item. Text directly contained in a flex container is wrapped in an anonymous flex item.</p>
 </dd>
 <dt>Axes</dt>
 <dd>
 <p>Every flexible box layout follows two axes. The <strong>main axis</strong> is the axis along which the flex items follow each other. The <strong>cross axis</strong> is the axis perpendicular to the <strong>main axis</strong>.</p>

 <ul>
  <li>The <code><a href="/en/CSS/flex-direction" rel="internal" title="flex-direction">flex-direction</a></code> property establishes the main axis.</li>
  <li>The <a href="/en/CSS/justify-content" rel="internal" title="en/CSS/justify-content"><code>justify-content</code></a> property defines how flex items are laid out along the main axis on the current line.</li>
  <li>The <a href="/en/CSS/align-items" title="en/CSS/align-items"><code>align-items</code></a> property defines the default for how flex items are laid out along the cross axis on the current line.</li>
  <li>The <a href="/en/CSS/align-self" title="en/CSS/align-self"><code>align-self</code></a> property defines how a single flex item is aligned on the cross axis, and overrides the default established by <code>align-items.</code></li>
 </ul>
 </dd>
 <dt>Directions</dt>
 <dd>
 <p>The <strong>main start</strong>/<strong>main end </strong>and <strong>cross start</strong>/<strong>cross end</strong> sides of the flex container describe the origin and terminus of the flow of flex items. They follow the main axis and cross axis of the flex container in the vector established by the <code>writing-mode</code> (left-to-right, right-to-left, etc.).</p>

 <ul>
  <li>The <a href="/en/CSS/order" rel="internal" title="en/CSS/order"><code>order</code></a> property assigns elements to ordinal groups and determines which elements appear first.</li>
  <li>The <a href="/en/CSS/flex-flow" rel="internal" title="flex-flow"><code>flex-flow</code></a> property shorthands the <a href="/en/CSS/flex-direction" rel="internal" title="flex-direction"><code>flex-direction</code></a> and <a href="/en/CSS/flex-wrap" rel="internal" title="flex-wrap"><code>flex-wrap</code></a> properties to lay out the flex items.</li>
 </ul>
 </dd>
 <dt>Lines</dt>
 <dd>
 <p>Flex items can be laid out on either a single line or on several lines according to the <a href="/en/CSS/flex-wrap" rel="internal" title="flex-wrap"><code>flex-wrap</code></a> property, which controls the direction of the cross axis and the direction in which new lines are stacked.</p>
 </dd>
 <dt>Dimensions</dt>
 <dd>
 <p>The flex items' agnostic equivalents of height and width are <strong>main size</strong> and <strong>cross size,</strong> which respectively follow the main axis and cross axis of the flex container.</p>

 <ul>
  <li>The <code><a href="/en/CSS/min-height" title="/en/CSS/min-height">min-height</a></code> and <code><a href="/en/CSS/min-width" title="/en/CSS/min-width">min-width</a></code> properties have a new value, <code>auto</code> that establishes the minimum size of a flex item.</li>
  <li>The <a href="/en/CSS/flex" rel="internal" title="en/CSS/flex"><code>flex</code></a> property shorthands the <code><a href="/en/CSS/flex-basis" rel="internal" title="en/CSS/flex-basis">flex-basis</a></code>, <a href="/en/CSS/flex-grow" rel="internal" title="en/CSS/flex-grow"><code>flex-grow</code></a>, and <a href="/en/CSS/flex-shrink" rel="internal" title="en/CSS/flex-shrink"><code>flex-shrink</code></a> properties to establish the flexibility of the flex items.</li>
 </ul>
 </dd>
</dl>

<h2 id="Designating_a_flexible_box">Designating a flexible box</h2>

<p>To designate the CSS for elements using this style, set the <a href="/en/CSS/display" title="/en/CSS/display">display</a> property as follows:</p>

<pre class="brush: css">display : flex</pre>

<p>or</p>

<pre class="brush: css">display : inline-flex</pre>

<p>Doing so defines the element as a flex container and its children as flex items. The <code>flex</code> value makes the flex container a block-level element. The <code>inline-flex</code> value makes the flex container an atomic inline-level element.</p>

<div class="note"><strong>Note:</strong> For the vendor prefix tag, append the string on the display property, not on the display attribute itself. For example, <code>display : -webkit-flex</code>.</div>

<h2 id="Flex_item_considerations">Flex item considerations</h2>

<p>Text that is directly contained inside a flex container is automatically wrapped in an anonymous flex item. However, an anonymous flex item that contains only white space is not rendered, as if it were designated <code style="color: rgb(93,86,54); font-size: 14px;">display:none</code>.</p>

<p>Absolutely positioned children of a flex container are positioned so that their static position is determined in reference to the main start content-box corner of their flex container.</p>

<p>Currently, due to a known issue, specifying <code style="font-size: 14px;">visibility:collapse</code> on a flex item causes it to be treated as if it were <code style="font-size: 14px;">display:none</code> instead of the intended behavior, treating it as if it were <code style="font-size: 14px;">visibility:hidden</code>. The suggested workaround until this issue is resolved is to use <code>visibility:hidden</code> for flex items that should behave as if they were designated <code>visibility:collapse</code>.</p>

<p>The margins of adjacent flex items do not collapse. Using <code>auto</code> margins absorbs extra space in the vertical or horizontal direction and can be used for alignment or to separate adjacent flex items. See <a href="http://dev.w3.org/csswg/css3-flexbox/#auto-margins" title="http://dev.w3.org/csswg/css3-flexbox/#auto-margins">Aligning with 'auto' margins</a> in the W3C Flexible Box Layout Model specification for more details.</p>

<p>To ensure a reasonable default minumum size for flex items, use <code>min-width:auto</code> and/or <code>min-height:auto</code>. For flex items, the <code>auto</code> attribute value calculates the minimum width/height of the item to be no less than the width/height of its content, guaranteeing that the item is rendered large enough to hold the content. See {{cssxref("min-width")}}  and {{cssxref("min-height")}} for more details.</p>

<p>Flexbox's alignment properties do "true" centering, unlike other centering methods in CSS.  This means that the flex items will stay centered, even if they overflow the flex container.  This can sometimes be problematic, however, if they overflow past the top edge of the page, or the left edge (in LTR languages like English; the problem occurs on the right edge in RTL languages like Arabic), as you can't scroll to that area, even if there is content there!  In future release, the alignment properties will be extended to have a "safe" option as well. For now, if this is a concern, you can instead use margins to achieve centering, as they'll respond in a "safe" way and stop centering if they overflow.  Instead of using the <code>align-</code> properties, just put auto margins on the flex items you wish to center.  Instead of the <code>justify-</code> properties, put auto margins on the outside edges of the first and last flex items in the flex container.  The auto margins will "flex" and assume the leftover space, centering the flex items when there is leftover space, and switching to normal alignment when not. However, if you're trying to replace <code>justify-content</code> with margin-based centering in a multi-line flexbox, you're probably out of luck, as you need to put the margins on the first and last flex item on each line.  Unless you can predict ahead of time which items will end up on which line, you can't reliably use margin-based centering in the main axis to replace the <code>justify-content</code> property.</p>

<p>Recall that while the display order of the elements is independent of their order in the source code, this independence affects only the visual rendering, leaving speech order and navigation based on the source order. Even the {{cssxref("order")}} property does not affect speech or navigation sequence. Thus developers must take care to order elements properly in the source so as not to damage the document's accessibility. </p>

<h2 id="Flexible_box_properties">Flexible box properties</h2>

<h3 id="Properties_not_affecting_flexible_boxes">Properties not affecting flexible boxes</h3>

<p>Because flexible boxes use a different layout algorithm, some properties do not make sense on a flex container.</p>

<ul>
 <li>column-* properties of the <a href="/en/CSS/Using_CSS_multi-column_layouts" title="Using CSS multi-column layouts">Multicol module</a> have no effect on a flex item.</li>
 <li>{{cssxref("float")}} and {{cssxref("clear")}} have no effect on a flex item. Using <code>float</code> causes the <code>display</code> property of the element to compute to <code>block</code>.</li>
 <li>{{cssxref("vertical-align")}}has no effect on the alignment of flex items.</li>
</ul>

<h2 id="Exemples">Exemples</h2>

<h3 id="Exemple_bàsic_de_caixa_flex">Exemple bàsic de caixa flex</h3>

<p>Aquest exemple mostra com aplicar "flexibilitat" a un element i com els elements germans es comportant en un estat flexible.</p>

<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="ca"&gt;
  &lt;head&gt;
      &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
      &lt;meta charset="UTF-8"&gt;
    &lt;style&gt;

   .flex
   {
      /* estíl bàsic */
      width: 100%;
      height: 80vh; /* ocupa el 80% del viewport */
      border: 1px solid #555;
      font: 14px Arial;

      /* Configuració del flexbox */
      display: -webkit-flex;
      -webkit-flex-direction: row;

      display: flex;
      flex-direction: row;
   }

   .flex &gt; div
   {
       /* La propietat flex té tres paràmetres:
           flex-grow: ens indica la quantitat de espai lliure que agafarà el element
           flex-shrink: ens indica la quantitat d'encongiment respecte a la resta d'elements
           flex-basic: el main size inicial del element, auto és el valor per defecte
       */
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto; 

      width: 30px; 

      -webkit-transition: width 0.7s ease-out;
      -moz-transition: width 0.7s ease-out;
      -o-transition: width 0.7s ease-out;
      transition: width 0.7s ease-out;
   }

   /* colors */
   .flex &gt; div:nth-child(1){ background : green; }
   .flex &gt; div:nth-child(2){ background : blue; }
   .flex &gt; div:nth-child(3){ background : red; }

   .flex &gt; div:hover
   {
        width: 80%;
   }
   
   &lt;/style&gt;
    
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;La nova propietat Flex&lt;/h1&gt;
  &lt;div class="flex"&gt;
    &lt;div&gt;caixa 1&lt;/div&gt;
    &lt;div&gt;caixa 2&lt;/div&gt;
    &lt;div&gt;caixa 3&lt;/div&gt;
  &lt;/div&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

<h3 id="Holy_Grail_Layout_example">Holy Grail Layout example</h3>

<p>This example demonstrates how flexbox provides the ability to dynamically change the layout for different screen resolutions. The following diagram illustrates the transformation.</p>

<p><img alt="HolyGrailLayout.png" class="default internal" src="/files/3760/HolyGrailLayout.png"></p>

<p>Illustrated here is the case where the page layout suited to a browser window must be optimized for a smart phone window. Not only must the elements reduce in size, but the order in which they are presented must change. Flexbox makes this very simple.</p>

<pre class="brush:html;">​
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;style&gt;

  body {
   font: 24px Helvetica;
   background: #999999;
  }

  #main {
   min-height: 800px;
   margin: 0px;
   padding: 0px;
   display: -webkit-flex;
   display:         flex;
   -webkit-flex-flow: row;
           flex-flow: row;
   }
 
  #main &gt; article {
   margin: 4px;
   padding: 5px;
   border: 1px solid #cccc33;
   border-radius: 7pt;
   background: #dddd88;
   -webkit-flex: 3 1 60%;
           flex: 3 1 60%;
   -webkit-order: 2;
           order: 2;
   }
  
  #main &gt; nav {
   margin: 4px;
   padding: 5px;
   border: 1px solid #8888bb;
   border-radius: 7pt;
   background: #ccccff;
   -webkit-flex: 1 6 20%;
           flex: 1 6 20%;
   -webkit-order: 1;
           order: 1;
   }
  
  #main &gt; aside {
   margin: 4px;
   padding: 5px;
   border: 1px solid #8888bb;
   border-radius: 7pt;
   background: #ccccff;
   -webkit-flex: 1 6 20%;
           flex: 1 6 20%;
   -webkit-order: 3;
           order: 3;
   }
 
  header, footer {
   display: block;
   margin: 4px;
   padding: 5px;
   min-height: 100px;
   border: 1px solid #eebb55;
   border-radius: 7pt;
   background: #ffeebb;
   }
 
  /* Too narrow to support three columns */
  @media all and (max-width: 640px) {
  
   #main, #page {
    -webkit-flex-flow: column;
            flex-flow: column;
   }

   #main &gt; article, #main &gt; nav, #main &gt; aside {
    /* Return them to document order */
    -webkit-order: 0;
            order: 0;
   }
  
   #main &gt; nav, #main &gt; aside, header, footer {
    min-height: 50px;
    max-height: 50px;
   }
  }

 &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
 &lt;header&gt;header&lt;/header&gt;
 &lt;div id='main'&gt;
    &lt;article&gt;article&lt;/article&gt;
    &lt;nav&gt;nav&lt;/nav&gt;
    &lt;aside&gt;aside&lt;/aside&gt;
 &lt;/div&gt;
 &lt;footer&gt;footer&lt;/footer&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

<h2 id="Playground">Playground</h2>

<p>There are several flexbox playgrounds available online for experimenting:</p>

<ul>
 <li><a href="http://demo.agektmr.com/flexbox/" title="http://demo.agektmr.com/flexbox/">Flexbox Playground</a></li>
 <li><a href="http://the-echoplex.net/flexyboxes" title="http://the-echoplex.net/flexyboxes">Flexy Boxes</a></li>
</ul>

<h2 id="Things_to_keep_in_mind">Things to keep in mind</h2>

<p>The algorithm describing how flex items are laid out can be pretty tricky at times. Here are a few things to consider to avoid bad surprises when designing using flexible boxes.</p>

<p>Flexibles boxes are laid out in conformance of the <a href="https://developer.mozilla.org/en-US/docs/CSS/writing-mode" title="mode">writing mode</a>. Which means that <strong>main start</strong> and <strong>main end</strong> are laid out according to the position of <strong>start</strong> and <strong>end</strong>.</p>

<p><strong>cross start</strong> and <strong>cross end</strong> rely on the definition of the <strong>start</strong> or <strong>before</strong> position that depends on the value of <a href="/en/CSS/direction" title="direction"><code>direction</code></a>.</p>

<p>Page breaks are possible in flexible boxes layout as long as <code>break-</code> property allows it. CSS3 <code>break-after</code>, <code>break-before</code> and <code>break-inside</code> as well as CSS 2.1   <code>page-break-before</code>, <code>page-break-after</code> and <code>page-break-inside</code> properties are accepted on a flex container, flex items and inside flex items.</p>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{ CompatibilityTable() }}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Firefox (Gecko)</th>
   <th>Chrome</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{ CompatGeckoDesktop("18.0") }}{{ property_prefix("-moz") }}(Behind a pref) [2]<br>
    {{ CompatGeckoDesktop("19.0") }}(Behind a pref) [2]<br>
    {{ CompatGeckoDesktop("20.0") }}</td>
   <td>21.0{{ property_prefix("-webkit") }}</td>
   <td>{{ CompatNo() }} [1]</td>
   <td>12.10</td>
   <td>{{ CompatNo() }} [1]</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Android</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{ CompatGeckoMobile("18.0") }}{{ property_prefix("-moz") }}(Behind a pref) [2]<br>
    {{ CompatGeckoMobile("19.0") }}(Behind a pref) [2]<br>
    {{ CompatGeckoMobile("20.0") }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatNo() }}</td>
  </tr>
 </tbody>
</table>
</div>

<h3 id="Notes">Notes</h3>

<p>[1] Internet Explorer 10 and Safari support an old incompatible draft version of the specification. They have not been updated to support the final version.</p>

<p>[2] Firefox supports only single-line flexbox. To activate flexbox support, for Firefox 18 and 19, the user has to change the about:config preference "layout.css.flexbox.enabled" to <span id="cke_bm_69S" style="display: none;"> </span><code>true</code>.</p>