<div>
<div>
<div>{{APIRef("Canvas API")}}</div>
</div>
{{non-standard_header}}</div>

<p>The <strong><code>HTMLCanvasElement.mozGetAsFile()</code></strong> method returns a {{domxref("File")}} object representing the image contained in the canvas; this file is a memory-based file, with the specified <code>name</code>. If <code>type</code> is not specified, the image type is <code>image/png</code>.</p>

<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre class="syntaxbox"><var><em>canvas</em>.mozGetAsFile(<em>name</em>, <em>type</em>);</var>
</pre>

<h3 id="Parameters">Parameters</h3>

<dl>
 <dt><code>name</code></dt>
 <dd>A {{domxref("DOMString")}} indicating the file name.</dd>
 <dt><code>type</code> {{optional_inline}}</dt>
 <dd>A {{domxref("DOMString")}} indicating the image format. The default type is <code>image/png</code>.</dd>
</dl>

<h3 id="Return_value">Return value</h3>

<p>A {{domxref("File")}} object representing the image contained in the canvas.</p>

<h2 id="Examples">Examples</h2>

<div>
<h3 id="Example_Using_mozGetAsFile()">Example: Using <code>mozGetAsFile()</code></h3>

<p>HTML snippet:</p>

<pre class="brush: html">&lt;canvas id="canvas" width="100" height="100"&gt;&lt;/canvas&gt;
&lt;p&gt;&lt;a href="#" id="link"&gt;Click here to try out mozGetAsFile().&lt;/a&gt;&lt;/p&gt;</pre>

<p>The following code uses <code>mozGetAsFile</code> to create a {{domxref("File")}} object from the canvas and appends it as an image to the page using {{domxref("FileReader.readAsDataURL()")}}:</p>

<pre class="brush: js;highlight:[17]">function draw() {
   var canvas = document.getElementById('canvas');
   var ctx = canvas.getContext('2d');
 
   ctx.fillStyle = 'rgb(200, 0, 0)';
   ctx.fillRect(10, 10, 55, 50);
 
   ctx.fillStyle = 'rgba(0, 0, 200, 0.5)';
   ctx.fillRect(30, 30, 55, 50);

   var link = document.getElementById('link');
   link.addEventListener('click', copy);
}
    
function copy() {
  var canvas = document.getElementById('canvas');
  var f = canvas.mozGetAsFile('test.png');
  var reader = new FileReader();
  reader.readAsDataURL(f);
      
  reader.onloadend = function() {
    var newImg = document.createElement('img');
    newImg.src = reader.result;
    document.body.appendChild(newImg);
  }
}

window.addEventListener('load', draw);</pre>
</div>

<h2 id="Specifications">Specifications</h2>

<p>Not part of any specification.</p>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you'd like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<p>{{Compat("api.HTMLCanvasElement.mozGetAsFile")}}</p>

<h2 id="See_Also" name="See_Also">See also</h2>

<ul>
 <li>The interface defining it, {{domxref("HTMLCanvasElement")}}.</li>
</ul>