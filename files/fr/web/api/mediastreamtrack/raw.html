<div>{{APIRef("Media Capture and Streams")}} {{draft}} {{SeeCompatTable}}</div>

<h2 id="Résumé">Résumé</h2>

<p>L'interface  <strong><code>MediaStream</code></strong><strong> </strong>représentes le contenu d'un flux media. Un flux est composé de plusieurs <em>pistes</em>, vidéos ou audio.</p>

<h2 id="Propriétés">Propriétés</h2>

<dl>
 <dt>{{domxref("MediaStreamTrack.id")}} {{readonlyInline}}</dt>
 <dd>{{domxref("DOMString")}} Contenant l'identifiant unique (GUID) de la piste. Il est généré par le navigateur.</dd>
 <dt>{{domxref("MediaStreamTrack.kind")}} {{readonlyInline}}</dt>
 <dd>{{domxref("DOMString")}} défini à <code>"audio"</code> si la piste est une piste audio, ou à <code>"video"</code>, s'il s'agit d'une piste vidéo. La valeur ne change pas si la piste est dissociée de la source.</dd>
 <dt>{{domxref("MediaStreamTrack.label")}} {{readonlyInline}}</dt>
 <dd>{{domxref("DOMString")}} contenant un libellé défini par l'utilisateur qui identifie la source de la piste, comme <code>"internal microphone"</code>. La chaine peut-être laissée vide et le rester tant qu'aucune source n'est connectée.  Lorsque la piste est dissociée de la source, le libellé ne change pas.</dd>
 <dt>{{domxref("MediaStreamTrack.enabled")}}</dt>
 <dd>Is a Boolean value with a value of <code>true</code> if the track is enabled, that is allowed to render the media source stream; or <code>false</code> if it is disabled, that is not rendering the media source stream but silence and blackness. If the track has been disconnected, this value can be changed but has no more effect.</dd>
 <dt>{{domxref("MediaStreamTrack.readyState")}}</dt>
 <dd>Is an enumerated value that gives the status of the track. It takes one of the following values:
 <ul>
  <li><code>"new"</code> which is the original state and the track has not been connected to any source yet. In that state, the <code>MediaStreamTrack.label</code> will be the empty string. When a source is connected, the track state becomes <code>"live"</code> and an {{event("started")}} is emitted.</li>
  <li><code>"live"</code> which indicates that an input is connected and does its best-effort in providing real-time data. In that case, the output of data can be switched on or off using the <code>MediaStreamTrack.enabled</code> attribute.</li>
  <li><code>"ended"</code></li>
 </ul>
 </dd>
 <dt>{{domxref("MediaStreamTrack.sourceId")}}</dt>
 <dd>Is a Boolean value with a value of <code>true</code> if the {{event("ended (MediaStream)", "ended")}} event has been fired on the object, meaning that the stream has been completely read, or <code>false</code> if the end of the stream ha</dd>
 <dt>{{domxref("MediaStreamTrack.sourceType")}}</dt>
 <dd>Is a Boolean value with a value of <code>true</code> if the {{event("ended (MediaStream)", "ended")}} event has been fired on the object, meaning that the stream has been completely read, or <code>false</code> if the end of hte stream has</dd>
</dl>

<h3 id="Event_handlers">Event handlers</h3>

<dl>
 <dt>{{domxref("MediaStreamTrack.onstarted")}}</dt>
 <dd>Is a {{domxref("EventHandler")}} containing the action to perform when an {{event("started")}} event is fired on the object, that is when a new {{domxref("MediaStreamTrack")}} object is added.</dd>
 <dt>{{domxref("MediaStreamTrack.onmute")}}</dt>
 <dd>Is a {{domxref("EventHandler")}} containing the action to perform when an {{event("mute")}} event is fired on the object, that is when the streaming is terminating.</dd>
 <dt>{{domxref("MediaStreamTrack.onunmute")}}</dt>
 <dd>Is a {{domxref("EventHandler")}} containing the action to perform when an {{event("unmute")}} event is fired on the object, that is when a  {{domxref("MediaStreamTrack")}} object is removed from it.</dd>
 <dt>{{domxref("MediaStreamTrack.onoverconstrained")}}</dt>
 <dd>Is a {{domxref("EventHandler")}} containing the action to perform when an {{event("overconstrained")}} event is fired on the object, that is when a  {{domxref("MediaStreamTrack")}} object is removed from it.</dd>
 <dt>{{domxref("MediaStreamTrack.oneended")}}</dt>
 <dd>Is a {{domxref("EventHandler")}} containing the action to perform when an {{event("ended_(MediaStream)", "ended")}} event is fired on the object, that is when a  {{domxref("MediaStreamTrack")}} object is removed from it.</dd>
</dl>

<h2 id="Methods">Methods</h2>

<dl>
 <dt>{{domxref("MediaStreamTrack.appendConstraint()")}}</dt>
 <dd>Returns the track whose id corresponds to the one given in parameters, <code>trackid</code>. If no parameter is given, or if no track with that id does exists, it returns <code>null</code>. If several tracks have the same id, it returns the first one.</dd>
 <dt>{{domxref("MediaStreamTrack.applyConstraints()")}}</dt>
 <dd>Stores a copy of the {{domxref("MediaStreamTrack")}} given as argument. If the track has already been added to the <code>MediaStream</code> object, nothing happens; if the track is in the <code>finished</code> state, that is has already reached its end, the exception <code>INVALID_STATE_RAISE</code> is raised.</dd>
 <dt>{{domxref("MediaStreamTrack.constraints()")}}</dt>
 <dd>Removes the {{domxref("MediaStreamTrack")}} given as argument. If the track is not part of the <code>MediaStream</code> object, nothing happens; if the track is in the <code>finished</code> state, that is has already reached its end, the exception <code>INVALID_STATE_RAISE</code> is raised.</dd>
 <dt>{{domxref("MediaStreamTrack.getConstraints()")}}</dt>
 <dd>Returns a list of the {{domxref("MediaStreamTrack")}} stored in the <code>MediaStream</code> object that have their <code>kind</code> attribute set to <code>"audio"</code>. The order is not defined, and may vary from one browser to an other, but also from one call to the method to another.</dd>
 <dt>{{domxref("MediaStreamTrack.stop()")}}</dt>
 <dd>Returns a list of the {{domxref("MediaStreamTrack")}} stored in the <code>MediaStream</code> object that have their <code>kind</code> attribute set to <code>"video"</code>. The order is not defined, and may vary from one browser to an other, but also from one call to the method to another.</dd>
</dl>

<h2 id="Examples">Examples</h2>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('Media Capture', '#mediastream', 'MediaStream')}}</td>
   <td>{{Spec2('Media Capture')}}</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div>{{CompatibilityTable}}</div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
  <tr>
   <td><code>getAudioTracks()</code> and <code>getVideoTracks()</code></td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatGeckoDesktop("23.0")}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
  <tr>
   <td><code>getAudioTracks()</code> and <code>getVideoTracks()</code></td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatGeckoMobile("23.0")}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/fr/docs/WebRTC/MediaStream_API">Using the MediaStream API</a></li>
</ul>