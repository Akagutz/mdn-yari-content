<p>巻き上げ(Hoisting) は、<a href="http://www.ecma-international.org/ecma-262/6.0/index.html">ECMAScript® 2015 言語仕様</a>より前には、どんな規範的な仕様書にもなかったものです。巻き上げは JavaScript の実行コンテキスト (特に作成と実行のフェーズで) では一般的な方法と考えられていました。しかし、巻き上げの概念は誤解に繋がる可能性があります。</p>

<p>概念として、例えば、巻き上げでは変数と関数定義は物理的にコードの一番上に移動すると厳密に定義されています、これは実際に起こっていません。その代わりに、変数と関数宣言は <u>compile</u> フェーズでメモリーに配置されますが、コーディングでタイプされた場所は変わりません。</p>

<h2 id="Learn_more" name="Learn_more">詳細情報</h2>

<h3 id="Technical_example" name="Technical_example">技術的な例</h3>

<p>JavaScript で関数宣言がコード領域を実行する前にメモリーに配置される利点は、コードで関数を定義する前に使うことができることです。例えば:</p>

<pre class="brush: js">function catName(name) {
  console.log("My cat's name is " + name);
}

catName("Tigger");
/*
上記のコードの結果は: "My cat's name is Tigger"
*/
</pre>

<p>上記のコード断片はコードが動作するように書いたよう期待する方法です。今度は、関数を書く前に関数を呼び出したらどうでしょう:</p>

<pre class="brush: js">catName("Chloe");

function catName(name) {
  console.log("My cat's name is " + name);
}
/*
上記のコードの結果は: "My cat's name is Chloe"
*/
</pre>

<p>コード内で関数を書く前に、関数呼び出しを最初に書いても、コードは動作します。これは JavaScript でコンテキスト実行が動作するためです。</p>

<p>巻き上げはその他のデータ型や変数でも同様に動作します。変数は定義の前に初期化して使うことができます。しかし初期化しないと使うことができません。</p>

<h3 id="Only_declarations_are_hoisted" name="Only_declarations_are_hoisted">定義のみが巻き上げられます</h3>

<p>JavaScript では定義のみが巻き上げられ、初期化はそうでありません。変数が使用された後に定義や初期化された場合、値は undefined になります。例えば:</p>

<pre><code>console.log(num); // Returns undefined 
var num;
num = 6;</code></pre>

<p>使用された後に変数を定義し、ただその前に初期化した場合、値を返します:</p>

<pre><code>num = 6;
console.log(num); // returns 6
var num;</code></pre>

<p>下記の 2 つの例は同じふるまいを実例しています。</p>

<pre><code>var x = 1; // Initialize x
console.log(x + " " + y); // '1 undefined'
var y = 2; // Initialize y

// The above example is implicitly understood as this: 
var x = 1; // Initialize x
var y; // Declare y
console.log(x + " " + y); // '1 undefined'
y = 2; // Initialize y</code>
</pre>

<h3 id="Technical_reference" name="Technical_reference">技術リファレンス</h3>

<ul>
 <li><a href="https://www.udemy.com/understand-javascript/">JavaScript: Understanding the Weird Parts</a> — Udemy.com Course</li>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Statements/var">var 宣言</a> — MDN</li>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Statements/function">関数 宣言</a> — MDN</li>
</ul>