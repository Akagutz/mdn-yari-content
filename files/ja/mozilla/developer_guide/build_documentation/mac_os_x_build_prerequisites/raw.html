<section id="step1">
<div class="container">
<p>世界で最も有名な OS 上の最も最適なブラウザを作るお手伝いをしていただき感謝します。このドキュメントはローカルマシンで独自のバージョンの Firefox をビルドしたり改造するための手助けになるでしょう。セットアップは難しいことではありませんが、時間が必要です。たくさんのデータをダウンロードする必要があります！早い回線でも 10~15分必要で、もしかすると1、2時間に及ぶかもしれません。</p>

<p>詳細は以下に記載してありますが、実際にあなた自身でセットアップして動作させてください。</p>

<h3 class="heading-tertiary" id="準備">準備</h3>

<p>複雑ではありませんが、OS X 上で Firefox をビルドするにあたりいくつか準備が必要となります。</p>

<ul>
 <li>OS X 上で使い慣れているターミナル環境</li>
 <li>OS X 10.7 以上。もしわからなければ Apple メニュー上の「この Mac について」を開くことでわかります。</li>
 <li>次に、Python がインストールされているか確認します。Python は OS X のデフォルトで入っていますが、ターミナルウィンドウを開いて <code>python --version</code> と入力し、バージョンの確認をしてください。<strong>しかし、もしビルド中に暗号に関するエラーが発生したら、Python 2.7.11(それ以上でも、それ以下でもなく)が <code>bootstrap.py</code> が動作確認している唯一のバージョンですので注意してください。</strong>もし自身のマシンで使用可能な複数の Python バージョンがある場合は、<a href="https://github.com/yyuu/pyenv">pyenv</a> を使ってください。</li>
 <li>最後に、ネット環境と Xcode と Firefox のソース・ビルドオブジェクトのための 40 GB の空き領域が必要です。</li>
</ul>


</div>
</section>

<section id="step2">
<div class="container">
<h3 class="heading-tertiary" id="はじめに">はじめに</h3>

<p>OS X 上でのセットアップは簡単です。もし初回時の場合でしたら、ホームディレクトリの下に "src" ディレクトリを作成してください。</p>

<pre><code>cd &amp;&amp; mkdir src</code></pre>

<p>次に <a href="https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py">bootstrap.py スクリプトをダウンロード</a>して先ほどの <code>src/</code> ディレクトリに保存します。</p>

<p>そして最後に、ターミナル上で <code>cd ~/src</code> を実行して次のコマンドで bootstrapper を開始します。</p>

<pre><code>python bootstrap.py</code></pre>

<p>すると...いくつかの質問が続きます。もし我々が必要となるいくつかのプログラムをインストールするためのソフトウェアパッケージマネージャである Homebrew または Ports がインストールされていない場合、どちらを選ぶか質問されます。どちらも動作しますが、多くの Mozilla 開発者は Homebrew を利用しています。</p>
</div>
</section>

<section id="step3">
<div class="container">
<h3 class="heading-tertiary" id="アクセスするために">アクセスするために</h3>

<p>最後のステップは終わるために多少時間が必要です。実行している間は Mozilla のバグトラッカーである<a href="https://bugzilla.mozilla.org/"> Bugzilla</a> のサインインをしたりしてください。バグにコメントしたり、パッチを投稿するには Bugzilla のアカウントが必要になります。<a href="https://bugzilla.mozilla.org/createaccount.cgi">Bugzilla のアカウント作成はここ</a>から行うことができます。</p>

<p>Bugzilla に加えて、IRC 上で多くの Mozilla の内部的なコミュニケーションが行われます。<a href="http://limechat.net/mac/">Limechat はここからダウンロード</a>でき、<a href="https://wiki.mozilla.org/IRC">Mozilla の IRC への接続はここ</a>を参照してください。もし何かを始めようとしてセットアップで質問がある場合、新しいコントリビュータを軌道に乗せるために挑戦したりお手伝いをするコミュニティメンバーが #introduction チャンネルにいるので接続できます。</p>
</div>
</section>

<section id="step4">
<div class="container">
<h3 class="heading-tertiary" id="コードの取得">コードの取得</h3>

<p>もし <code>bootstrap.py</code> を使って <code>mozilla-unified</code> をダウンロードしない場合、 <code>mozilla-central</code> レポジトリを以下のコマンドをターミナル上で実行してクローンできます。</p>

<pre><code>hg clone https://hg.mozilla.org/mozilla-central/</code></pre>

<p>この手順では mozilla-central から Firefox のソースコードを取得するために mercurial を使用しています。疑問に思うかもしれませんが、<code>hg</code> は水銀の化学式です。</p>

<p>クローンが終了するまで、<a href="http://mozilla-version-control-tools.readthedocs.org/en/latest/hgmozilla/index.html">Mozilla の Mercurial ドキュメント</a>等を閲覧してください。</p>

<p>そこには Mozilla でのコード管理方法やソースツリーへ変更を land する方法が紹介されています。</p>
</div>
</section>

<section id="step5">
<div class="container">
<h3 class="heading-tertiary" id="Firefox_のビルド">Firefox のビルド</h3>

<p>ここまでで準備は終わりです。あたなたのタームナルで以下のコマンドを実行してビルドを開始してください。</p>

<pre><code>cd mozilla-central</code>

<code>./mach build</code></pre>

<p>そして、これはあなたのやり方でソースコードから Firefox のコピーを自身でビルドしています。</p>

<p>時間がかかることでがっかりしないでください。 Firefox は極めて大きく、最新の催促マシンでもビルドには時間が必要です。</p>
</div>
</section>

<section id="step6">
<div class="container">
<h3 class="heading-tertiary" id="Mozillians.org_へ参加しよう!">Mozillians.org へ参加しよう!</h3>

<p>待っている間にもう１つやるべきことがあります。それは自身の <a href="https://mozillians.org/">Mozillians</a> のアカウントを作成することです。Mozillians は 興味のある分野・プロジェクト・国などに同調する人と繋がることができる Mozilla のコミュニティディレクトリです。この手順は任意ですが、登録するだけの価値はあると思います。</p>
</div>
</section>

<section id="step7">
<div class="container">
<h3 class="heading-tertiary" id="楽しい新しい一歩">楽しい新しい一歩</h3>

<p>ソースコードを手に入れ、Firefox を自身でコンパイルしました。<code>./mach run</code> コマンドでそれを実行してハックを始める準備をしましょう。次のステップはあなた次第です。IRC の #introduction に参加したり、<a href="https://twitter.com/StartMozilla">Twitter 上の StartMozilla</a> をフォローしたり、<a href="http://www.joshmatthews.net/bugsahoy/?simple=1">最初に始めるにちょうど良いバグを探したり</a>できます。</p>
</div>
</section>

<section id="laststep">
<div class="container">
<h3 class="heading-tertiary" id="感謝します！">感謝します！</h3>

<p>Mozilla の強みはコミュニティの存在です。Firefox は <a href="https://www.mozilla.org/about/manifesto/">Web の自由・オープン・参加型を保つため</a>に協力してくれるグローバルのデベロッパーチームの製品です。そしてあなたの貢献は、Firefox を創り、世界数億のウェブをより良いものにするでしょう。</p>
</div>
</section>

<h2 id="詳細">詳細</h2>

<p>OS X の Mozilla ビルドは Makefiles からビルドをする Mach-O ビルドです。OS X 上でビルドすることは <a href="/ja/Developer_Guide/Build_Instructions/Linux_Prerequisites">Unix/Linux でのビルド</a>と非常に似ています。ターミナルアプリ( <code>/アプリケーション/ユーティリティ )</code>を使うことで快適になります。加えて、<a href="/ja/Mac_OS_X_Universal_Binaries">Mozilla をユニバーサルバイナリーとしてビルド</a>する追加手順があります。</p>

<p>もし問題がある時は、<a href="/ja/Developer_Guide/Mozilla_build_FAQ">Mozilla ビルドのよくある質問</a>または <a href="/ja/Developer_Guide/Build_Instructions">Mozilla ビルドドキュメント</a>の一部を参照してください。</p>

<h2 id="ワンラインセットアップ_まず最初に試してください">ワンラインセットアップ (まず最初に試してください)</h2>

<p>ターミナル上で以下のコマンドを実行してください。</p>

<pre><code><span class="difflineplus">curl https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py &gt; bootstrap.py &amp;&amp; python bootstrap.py</span></code></pre>

<p><span class="difflineplus">これは OS X のビルド準備に必要なソフトウェアのインストールをします。成功させるために自信のアカウントがコンピューターの管理者として許可されている必要があります。これは、</span>システム環境設定 -&gt; ユーザーとグループで確認することができます。</p>

<p>特定の状況、特にすでに MacPorts または Homebrew 開発環境がインストールされている場合、このスクリプトはエラーを表示します。多くのエラーは MacPorts または Homebrew をアップデートすることで解決することができます。</p>

<p>MacPorts は以下のようにコマンドを実行します。</p>

<pre><code>port selfupdate &amp;&amp; port upgrade outdated</code>
</pre>

<p><span class="difflineplus">Homebrew は以下のようにコマンドを実行します。</span></p>

<pre><code>brew update &amp;&amp; brew upgrade</code></pre>

<p><span class="difflineplus">もしこれがうまくいかない場合または、もっと詳細が必要な場合、<a href="mhoye@mozilla.com">Mike Hoye に連絡</a>してください。以下のドキュメントもまた、参考になる時があります。</span></p>

<p>以下のこともまた必要です。</p>

<ul>
 <li>Apple ID (<code>Xcode</code> のインストール)</li>
 <li>1 hour (<code>Xcod</code> のダウンロードインストール)</li>
 <li><code>Homebrew</code> または <code>Macports</code> (<code>bootstrap.py</code> は必要な場合、インストールします。)</li>
</ul>

<p>一度ビルド環境の準備が終わると、以下の手順 3 に進みます。</p>

<h2 id="Firefox_Quick_Start" name="Firefox_Quick_Start">ビルドステップ (詳細)</h2>

<p>OS X のビルドは以下のステップに分割されます。</p>

<ol>
 <li>Apple が配布している開発者ツールをインストールします。</li>
 <li>追加のビルドツールをインストールします。</li>
 <li>Mozilla ソースコードのコピーを入手する</li>
 <li>ニーズに合わせて Mozilla ソースツリーを設定する</li>
 <li>Firefox をビルドする</li>
</ol>

<h3 id="Firefox_Quick_Start" name="Firefox_Quick_Start">1. Apple が配布している開発者ツールをインストールする</h3>

<p>OS X の全てのバージョンにおいて、どの Mozilla アプリケーションをビルドするために Xcode をインストールする必要があります。</p>

<div class="warning">
<p>Xcode 4.5 以上の場合、<code>/アプリケーション</code> (<code>/開発/アプリケーション</code> ではなく)にインストールされます。4.5 以上の .dmg を実行した場合、単純に Xcode.app ファイルが表示されます。このファイルを <code>/Applications</code> にドラッグして、そのコピーしたファイルを実行します。もし.dmg フォルダの Xcode.app を直接実行すると、<code>/Volumes/Xcode/Xcode.app</code> を参照しているため、様々な関連するパッチを壊します。これにより、.dmg がアンマウントされたら、Mozilla のビルド（おそらくWebRTC メイクファイルを作成するビルドエラーを伴う）、MacPorts のアップデートなどが中断されます！ あなたがこのポジションにいる場合は、走ってみてください。</p>

<pre class="brush: bash"><code>sudo xcode-select -switch /Applications/Xcode.app</code></pre>

<p>.gyp ファイルから WebRTC メークファイルを生成するときに "find_sdk.py" が見つからないビルドに失敗した場合は、これが問題になる可能性があります。</p>
</div>

<p>Xcode のダウンロードとインストールは以下のようにします。</p>

<ul>
 <li><a href="https://developer.apple.com/downloads/index.action" title="https://developer.apple.com/downloads/index.action">https://developer.apple.com/downloads/index.action</a> (Apple ID が必要です。ただし、購読やクレジットカード上は必要ではありません)</li>
 <li>Apple App Store (OS X の最新バージョンの場合)
  <ul>
   <li>App Store 経由で Xcode をインストールした後、/アプリケーション/Install Xcode.app を起動する必要があります。これは "信頼できないパッケージ" エラーで失敗するかもしれません。コンピュータの時間を 2010/1/1/ に戻して再インストールすることで回避できることが知られています。</li>
  </ul>
 </li>
 <li>Mac OS X を DVD からインストールした場合、 Xcode または XcodeTools は「オプションインストール」フォルダからインストールします。もし可能なら、更新したバージョンの Xcode を入手するためにインターネット経由で入試してください。</li>
</ul>

<p>一般的に、Xcode の全てのリリースバージョンは Mozilla ソースツリー の最新バージョンでビルドすべきです。しかし、Xcode のアーリーアダプタやベータバージョンは互換性がない場合があります。そのため、OS X と Xcode のアップグレード時には注意してください。</p>

<p>OS X の様々な互換性や Xcode のバージョンは以下のソフト動作条件セクションに記載されています。</p>

<div class="warning">
<p>注意: Xcode 4.5 とそれ以上のバージョンで、コマンドラインツールを手動でインストールする必要があります。Xcode &gt; Preferences &gt; Downloads &gt; Command Line Tools &gt; Components &gt; Install からインストールできます。(古いバージョンの Xcode からアップグレードする際に実施するこの手順は、単純に古い /usr/bin/clang 等を残します。)</p>

<p>注意: clang 4.2 の Apple バージョンは現在必要となります。もし以下のエラーメッセージが出た場合、古いバージョンの clang を利用しているかもしれません。</p>

<pre><code>In file included from .../js/src/vm/PropertyKey.cpp:9:
./../../dist/include/js/PropertyKey.h:35:7: error: no member named 'operator=' in 'JS::Value'
class PropertyKey
      ^~~~~~~~~~~
./../../dist/include/js/PropertyKey.h:87:14: note: implicit default move assignment operator for 'JS::PropertyKey' first required here
        *key = PropertyKey(uint32_t(v.toInt32()));
             ^
1 error generated.</code>
</pre>
</div>

<h3 id="Firefox_Quick_Start" name="Firefox_Quick_Start">2. 追加のビルドツールをインストールします</h3>

<p>Mozilla のソースツリーはビルドするためにいくつかのサードパーティツールやアプリケーションを必要とします。ビルドが可能になる前にインストールする必要があります。</p>

<p>全てのこのコンポーネントのインストール方法を選択する必要があります。Homebrew や Ports のようなパッケージマネージャを使うことができます。または個別に入手して、コンパイルしてインストールすることも可能です。時間の節約のため、パッケージマネージャを推奨します。以下のセクションでは存在するパッケージマネージャからパッケージをインストールする方法を述べてます。パッケージマネージャは任意のものを使ってください。</p>

<p>もし利用している Xcode が Clang を持っていない場合、パッケージマネージャからインストールすることができます。</p>

<h4 id="2.1a_Homebrew_経由でインストールする">2.1a Homebrew 経由でインストールする</h4>

<p><a class="external" href="http://brew.sh/" title="Homebrew site">Homebrew</a> は「OS X のために欠かせないパッケージマネージャ」です。これはパッケージをインストールするためにシンプルなコマンドラインとして提供しています。基本的にソースからコンパイルします。</p>

<p>Homebrew をインストールする最初のステップは <a href="https://github.com/Homebrew/homebrew/blob/master/share/doc/homebrew/Installation.md#installation">https://github.com/Homebrew/homebrew/blob/master/share/doc/homebrew/Installation.md#installation</a> を参照してください。</p>

<p>Homebrew をインストールすると、以下のコマンドを実行する必要があります。</p>

<pre><code>brew install yasm mercurial gawk ccache python</code>
</pre>

<p>使っている Xcode のバージョンによって、「brew install mercurial」は Mac OS 4 ユニバーサル SDK が存在しないことにより、失敗する可能性があります。回避策として<a href="http://mercurial.berkwood.com/site">このサイト</a>から直接バイナリをインストールしてください。そして、yasm だけ brew 経由でインストールしてください。</p>

<p>autoconf 2.13 もまた必要になります。しかし Homebrew のコアレポジトリは最新版をデフォルトとしてインストールするため、以下のコマンドでバージョンを指定してインストールします。</p>

<pre><code>brew install autoconf@2.13</code>
</pre>

<p>もしビルド時にエラーになったら、インストールして標準で利用している auto conf の他のバージョンが存在しているということです。autoconf 2.13 を実行するために以下のコマンドを実行します。</p>

<pre><code>​brew link --overwrite autoconf@2.13</code></pre>



<h4 id="2.1b_MacPort_経由でインストールする">2.1b MacPort 経由でインストールする</h4>

<p>MacPort は OS X のパッケージマネージャです。もし Homebrew を実行した場合、このセクションは省略できます。</p>

<p>MacPorts をインストールするために、<a href="http://www.macports.org/install.php">インストールページ</a>のサイトへ行き、 自信のプラットフォームに合わせた .dmg をダウンロードしインストールしてください。もし MacPorts がインストールされている場合、以下のコマンドを使ってアップデートしてください。</p>

<pre class="eval"><code>sudo port selfupdate
sudo port sync</code>
</pre>

<p>このコマンドラインの最初で、管理者パスワードを聞いてきます。</p>

<p>共通のエラー：</p>

<ul>
 <li><code>sudo</code> は空のパスワードを許可しません。システム環境設定でアカウントのパスワードを作成してください。</li>
 <li><code>port</code> コマンドが見つからない：パスを追加してください(後述するトラブルシューティングのセクションを参照してください。)</li>
</ul>

<p>Firefox をビルドするために必要なパッケージをインストールするために以下の MacPort のコマンドを実行します。</p>

<pre class="eval"><code>sudo port install libidl autoconf213 yasm</code>
</pre>

<p>MacPorts はこれらのパッケージと依存関係のビルドとインストールした結果を表示します。これには時間がかかるため、コーヒータイムを楽しんでください。</p>

<div class="note"><strong>注意:</strong> 初期値として Python 2.7 がインストールし、 X11 ライブラリの全てを pull します。 Firefox を構築するためにそれらを必要としません。インストール・ラインに <span style="font-family: courier new;">+no_tkinter</span> を追加して、X11 UI パッケージをサポートしない Pytho nをビルドすることを検討してください。これにより迅速にインストールできる結果となります。</div>

<div class="note"><strong>注意:</strong> 古い Xcode バージョン(例えば 6.4) だと、clang 3.6 またはそれ以降の正しいバージョンの clang を取得するため、MacPorts を利用する必要があります。clang については Core / Build Config のバグを確認してください。</div>

<h3 id="2.2_Mercurial_のインストール">2.2 Mercurial のインストール</h3>

<p>Mozilla のソースコードは Mercurial のレポジトリーにホストされています。OS X に Mercurial をインストールする方法はいくつかあります。</p>

<ol>
 <li><a class="external" href="http://mercurial.selenic.com/">SelenicSelenic から公式のバイナリーを</a>インストールする</li>
 <li>MacPorts 経由でインストールする
  <pre><code>sudo port install mercurial</code></pre>

  <ul>
  </ul>
 </li>
 <li>Homebrew 経由でインストールする
  <pre><code>brew install mercurial</code></pre>

  <ul>
  </ul>
 </li>
 <li>Pip 経由でインストールする
  <pre><code>easy_install pip &amp;&amp; pip install mercurial</code></pre>

  <ul>
  </ul>
 </li>
</ol>

<p>一度インストールされたら、以下のコマンドで確認してください。</p>

<pre><code>hg version</code>
</pre>

<p>もし動作した場合は成功しています！他の開発者のような Mercurial の設定をしたい場合は、、<a href="/ja/Developer_Guide/Source_Code/Mercurial">Mercurial を用いた Mozilla ソースコードの取得</a>を参照してください。</p>

<p>もし「<code>ValueError: unknown locale: UTF-8</code>」が発生する場合、Mercurial の wiki の Unix インストールページにある<a href="http://www.selenic.com/mercurial/wiki/index.cgi/UnixInstall#head-1c10f216d5b9ccdcb2613ea37d407eb45f22a394">回避手段</a>を参照してください。</p>

<p>レポジトリのクローンする際に HTTP 500 エラー(インターナルサーバーエラー)が発生する場合があります。これは Mac の Mercurial がサーバーに送信している内容によって発生すると思われます(これは MacPort および selenic.com の Mercurial バイナリで発生し得ます)。シェルやコンピューターの再起動や、Mercurial の再インストール(古いバージョン)を試してください。そして、動作したらこのドキュメントを更新してください。</p>

<h3 id="3._Mozilla_ソースコードのコピーを取得する">3. Mozilla ソースコードのコピーを取得する</h3>

<p>手順を完了させるために <a href="/ja/Developer_Guide/Source_Code/Mercurial">Mercurial を利用した Mozilla ソースコードの取得</a>ドキュメントを読んでください。</p>

<pre># 以下のコマンドは現在のディレクトリに新しい「mozilla-central」
# ディレクトリを作成し、そこへリモートレジストリの内容がクローンされます。
# これを実行すると多くの時間がかかります。これはインターネット経由で
# 数百 MB のデータをコピーするためです。

$ hg clone https://hg.mozilla.org/mozilla-central/ mozilla-central
$ cd mozilla-central
</pre>

<p id=".C2.A04._Configure_source_tree_for_build_options">(If you are building Firefox for Android, you should now return to the <a href="https://wiki.mozilla.org/Mobile/Fennec/Android#Mac_OS_X" title="https://wiki.mozilla.org/Mobile/Fennec/Android#Mac_OS_X">Android build instructions</a>.)<br>
 (もし Android 版 Firefox をビルドする場合、<a href="https://wiki.mozilla.org/Mobile/Fennec/Android#Mac_OS_X">Android のビルド手順</a>をご覧ください)</p>

<h3 id="4._ビルドオプションのために_Mozilla_ソースツリーを設定する">4. ビルドオプションのために Mozilla ソースツリーを設定する</h3>

<p>ソースツリーをチェックアウトし、ビルドオプションを記載する <code>.mozconfig</code> ファイルを作成します。このファイルの他のことについては、<a href="/ja/Configuring_Build_Options">ビルドオプションの設定</a>を参照してください。</p>

<p>簡単に始めるために、以下の内容をコピーしてソースツリーに<code>.mozconfig</code> として保存してください。</p>

<pre class="eval"># Define where build files should go. This places them in the directory
# "obj-ff-dbg" under the current source directory
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/obj-ff-dbg

# -s makes builds quieter by default
# -j4 allows 4 tasks to run in parallel. Set the number to be the amount of
# cores in your machine. 4 is a good number.
mk_add_options MOZ_MAKE_FLAGS="-s -j4"

# Enable debug builds
ac_add_options --enable-debug
</pre>

<p>10.7 SDK 以上をビルドでは必要とします。構築中のオペレーティングシステムのバージョンとの互換性を確保したい場合は、次のような行を追加して SDK を明示的に指定することができます。</p>

<pre class="eval">ac_add_options --with-macos-sdk=/Developer/SDKs/MacOSX10.8.sdk

</pre>

<p>Mac OS X 10.10 もしくは Xcode バージョン 6 以降の場合、この設定はパスが異なるかもしれません。例：</p>

<pre class="eval">ac_add_options --with-macos-sdk=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk
</pre>

<p>または、/アプリケーション/Xcode.app/Content/Developer/Platforms ディレクトリに SDK がインストールされているか確認してください。そして、そのパスを .mozconfig に記載してください。</p>

<p>Firefox は gcc 4.8 以前のバージョンでのビルドを保証しません。しかしビルドシステムは PATH から利用可能は clang を自動で選択します。もし該当しない場合、 CC と CXX を指定する必要があります。例えば、Homebrew で Clang 3.7 をインストールしている場合、以下のようにします。</p>

<pre class="eval">CC=clang-mp-3.7
CXX=clang++-mp-3.7</pre>

<p>もし前述した Homebrew で autoconf 2.13 をインストールした場合、以下の１行を <code>.mozconfig</code> に記載します。</p>

<pre class="eval">mk_add_options AUTOCONF=/usr/local/Cellar/autoconf@2.13/2.13/bin/autoconf213</pre>

<h3 id="5._ビルド">5. ビルド</h3>

<p><code>.mozconfig</code> ファイルを配置すると、以下のコマンドでビルドします！</p>

<pre><code>./mach build</code></pre>

<p>もしビルド手順がうまくいくと、<code>obj-ff-dbg/dist/</code> にビルドしたアプリケーションが出来上がります。もし <code>--enable-debug</code> と共にビルドした場合、アプリケーション名は <code>NightlyDebug.app</code> です。アプリケーションを実行するためには以下のコマンドを実行します。</p>

<pre><code>./mach run</code></pre>

<div class="note"><strong>注意:</strong> コンパイルされたアプリケーションの名前は、ビルドしているブランチの名前にすることもできます。たとえば、これらの命令を変更して <code>mozilla-1.9.2</code> ブランチをフェッチすると、アプリケーションの名前は <code>Namoroka.app</code> または <code>NamorokaDebug.app</code> になります。</div>

<h2 id="Hardware_Requirements" name="Hardware_Requirements">ハードウェア条件</h2>

<p>特定のハードウェア条件はありません、Firefox をビルドするための全てのソフトウェア条件を搭載できるハードウェアである必要があります。Firefox ビルドに時間を要するため、多くの CPU 多くの RAM そしてたくさんのディスクを常に推奨します。</p>

<ul>
 <li><strong>CPU:</strong> インテル CPU は必要です。PowerPC チップはサポートしていません。</li>
 <li><strong>メモリ:</strong> 最小 2GB RAM / 8GB を推奨します。</li>
 <li><strong>ディスクスペース:</strong> 少なくとも 30GB の空きディスクが必要です。</li>
</ul>

<h2 id="Software_Requirements" name="Software_Requirements">ソフトウェア条件</h2>

<ul>
 <li><strong>オペレーティングシステム:</strong> Mac OS X 10.7 以降. これは Apple メニューにあるソフトウェア更新を実行することで最新のリリースバージョンにアップグレード可能です。開発環境をセットアップするための管理者権限が必要となります。</li>
 <li><strong>開発環境:</strong> Xcode. App Store から入手可能です。</li>
 <li><strong>パッケージマネージャ:</strong> <em><a class="external" href="http://www.macports.org/">MacPorts</a></em> か Homebrew のいずれか。</li>
 <li>mozilla-central からのビルドや、configure.in ファイルのバージョン 1.9 以降を変更することを考えている場合は、<strong><a class="external" href="http://www.gnu.org/software/autoconf/">autoconf</a> version 2.13</strong> が必要です。Xcode に含まれ <code>/usr/bin</code> にインストールされる最新の autoconf はMozilla では非互換です({{ Bug(104642)}})。autoconf 213 は MacPorts または Homebrew からインストールできます。</li>
 <li><strong><a href="/en/Mercurial" title="en/Mercurial">Mercurial</a> ソースコード管理システム</strong> (もし1.9.0 以降のコードを動作させる場合)。詳細は <a href="https://mozilla-version-control-tools.readthedocs.io/en/latest/hgmozilla/index.html">Mozillians のための Mercurial </a>のOS X 上の特定のインストールを参照してください。</li>
</ul>

<p>OS X で Mozilla をビルドするオプションはいくつか存在します。ビルドオプションの一般的な概要や <code>.mozconfig</code> ファイルの概要を知りたい場合は、<a href="/ja/Configuring_Build_Options">ビルドオプションの設定</a>を参照してください。ユニバーサルビルドの設定の特定の情報を知りたい場合は、<a href="/ja/Mac_OS_X_Universal_Binaries">Mac OS X ユニバーサルビルド</a>を参照してください。</p>

<ul>
 <li><strong>コンパイラー:</strong> Firefox リリースは gcc-4.8 以前をサポートしません。最新の clang のコピーが必要です。

  <ul>
   <li>clang を取得するにはいくつかの方法があります。
    <ul>
     <li>最新版の Xcode。Xcode 7.0 以降またはオープンソース 3.6 リリースは動作します。(clang 3.6 のプレリリース Xcode 6.4 の場合、条件に一致しません。)</li>
     <li><a href="http://clang.llvm.org/get_started.html">clang のウェブサイト</a>の取得方情報に従って構築する。</li>
     <li>いくつかのパッケージマネージャ(上述)。</li>
    </ul>
   </li>
   <li>clang をインストールしたら、PATH を通して設定されていることを確認してください。</li>
  </ul>
 </li>
</ul>

<p><code>ac_add_options</code> で指定されたオプションは、<code>.mozconfig</code> ファイルに追加されるべき行です。</p>

<ul>
 <li><strong>Mac OS X SDK:</strong> これにより、ビルドするシステムヘッダーとライブラリのバージョンが選択され、ビルドする製品が利用可能な完全な API が存在しない古いシステムでも実行できるようになります。このオプションを使用してSDKを選択すると、 <code>/usr/include</code>、<code>/usr/lib</code>、および<code>/System/Library</code> のデフォルトのヘッダーとライブラリが上書きされます。 Mac OS X SDK は、Xcode のインストール時に <code>/Developer/SDKs</code> にインストールされ、インストーラの<strong>「カスタマイズ」</strong>画面で<strong>「相互開発」</strong>カテゴリを選択します。

  <pre>ac_add_options --with-macos-sdk=/path/to/SDK
</pre>

  <p>公式ビルドは<code>/Developer/SDKs/MacOSX10.7.sdk</code> を使用します。全ての公式リリースビルドの利用している SDK バージョンは <a href="https://hg.mozilla.org/mozilla-central/file/tip/build/macosx/universal/mozconfig.common"><code>build/macosx/universal/mozconfig.common</code></a> で確認できます。<br>
   <br>
   特定の SDK に対してビルドされたアプリケーションは、通常、旧バージョンの Mac OS X で動作します。ただし、後のバージョンでのみ使用できる機能やフレームワークを使用しないように注意してください。一部のフレームワーク（特に AppKit）は、ビルド時に使用された SDK に応じて、実行時に動作が異なることに注意してください。これは、特定のプラットフォームや特定のビルドにのみ現れるバグの原因となる可能性があります。</p>
 </li>
</ul>

<p>OS Xビルドの場合、定義は次のように設定されます。</p>

<ul>
 <li><code>XP_MACOSX</code> は定義されます。</li>
 <li><code>XP_UNIX</code> は定義されます。</li>
 <li><code>XP_MAC</code>は定義されていません。 <code>XP_MAC</code> は廃止され、ソースツリーから削除されました({{ Bug(281889)}} を参照してください)。これは CFM (non-March-O)ビルドで利用していて、クラシック Mac OS (X 以前)のものです。</li>
</ul>

<p>Mac を除外し、Unix プラットフォームに対応するコードを書く際は注意してください。</p>

<pre>#if defined(XP_UNIX) &amp;&amp; !defined(XP_MACOSX)
</pre>

<h2 id="Troubleshooting" name="Troubleshooting">トラブルシューティング</h2>

<ul>
 <li><strong>GCC でビルドできない:</strong> Apple は、vanilla GCC 4.2 に基づいた GCC をリリースしています。LLVM-GCC(GCC 4.2 ベース)の LLVM-GCC をいまだにリリースしています。Mozilla はいかなる GCC 4.2 の種類はビルドをサポートしていません。OS X では non-Apple GCC (例えば stock) はサポートしていません(サポートのブロックはしていません。)。そのため OS X の clang を利用する必要があります。</li>
 <li><strong>Virex 7.2 の Fink を利用します:</strong> Fink と Virex 7.2 は衝突します。両方ともファイルは <code>/sw</code> に配置されます。もしVirex がインストールされている場合、7.2.1 以上にアップグレードする必要があります。<a href="http://fink.sourceforge.net/news/index.php#2003-04-16%20Virex%20problem%20resolved">Fink News</a> に詳細は記載されています(2003-04-16)。</li>
 <li><strong>もし、<code>fatal error: 'stdio.h' file not found</code>:でビルドの設定(もしくは clang によるビルド)が失敗する場合：</strong> Xcode コマンドラインツールがインストールされ <code>xcode-select --install</code>.を実行したか確認してください。[jgilbert] 10.9 のインストーラの場合にこれが必要になります。<br>
   </li>
 <li><strong><code>--enable-dtrace</code> を指定して、<code>configure: error: dtrace enabled but sys/sdt.h not found</code> とビルドが失敗する場合：</strong> 標準の設定である 10.4 ではなく、10.5 SDK を使用しているか確認してください。</li>
</ul>