<p style="text-align: left;"><a href="/ja/Mercurial" title="ja/Mercurial">Mercurial</a> は、ユーザがソースコードの変更をローカルで追跡し、それらの変更を他のユーザと共有するためのソースコード管理ツールです。これは Firefox 3.5/Mozilla 1.9.1 およびそれ以降のリリースで使用されています。</p>

<div class="note"><strong>註:</strong> Thunderbird 3.x や SeaMonkey 2.x の開発のためにパッチを提供したいときは、<a class="internal" href="/Ja/Developer_Guide/Source_Code/Getting_comm-central" title="Ja/Comm-central source code (Mercurial)">Comm-central のソースコード</a> を使用してください。 Firefox 3.0.x, Thunderbird 2.0.x または SeaMonkey 1.1.x の開発のためにパッチを提供したいときは <a class="internal" href="/ja/Developer_Guide/Source_Code/CVS" title="Ja/Mozilla Source Code (CVS)">CVS のソースコード</a> を使用してください。</div>

<h3 id="Client_settings" name="Client_settings">クライアント設定</h3>

<h4 id="Installing_and_configuring_Mercurial" name="Installing_and_configuring_Mercurial">Mercurial のインストールと設定</h4>

<p><a href="/en-US/docs/Mozilla/Mercurial/Installing_Mercurial" title="ja/Installing_Mercurial">Mercurial のインストール</a> をご覧ください。</p>

<h3 id="Checking_out_a_source_tree" name="Checking_out_a_source_tree">ソースツリーのチェックアウト</h3>

<p>mozilla.org では複数の hg リポジトリがホストされています。全リポジトリのリストは <a class="external" href="http://hg.mozilla.org/" title="http://hg.mozilla.org/">http://hg.mozilla.org/</a> をご覧ください。</p>

<h4 id="mozilla-central (main development tree)" name="mozilla-central (main development tree)">mozilla-central (メイン開発ツリー)</h4>

<p>将来のリリースのためのソースコードは <a class="external" href="http://hg.mozilla.org/mozilla-central" title="http://hg.mozilla.org/mozilla-central"><code>mozilla-central</code></a> にあります。</p>

<p>最新のコミットされた変更を mozilla-central から入手するには、リポジトリを "clone" (Mercurial 用語) します:</p>

<pre># Mozilla ソースコードを src/ フォルダに pull します。
# 数百メガバイトの履歴が .hg フォルダにダウンロードされるため、しばらく時間がかかります。
hg clone http://hg.mozilla.org/mozilla-central/ src

cd src</pre>

<h4 class="editable" id="mozilla-central_(ビルド可能な最新のソースコード)">mozilla-central (ビルド可能な最新のソースコード)</h4>

<p>最新のコミットされた変更によってビルドが成功することはないでしょう。<a class="internal" href="/Ja/docs/Developer_Guide/Source_Code/LatestPassingSource" title="https://developer.mozilla.org/Ja/docs/Developer_Guide/Source_Code/LatestPassingSource">自動テストを通ったソースコードを入手</a>してください。</p>

<h4 class="editable" id="mozilla-1.9.2_(Firefox_3.6)">mozilla-1.9.2 (Firefox 3.6)</h4>

<p>Firefox 3.6 (Gecko 1.9.2) リリースのためのソースコードは <a class="external" href="http://hg.mozilla.org/releases/mozilla-1.9.2" title="http://hg.mozilla.org/releases/mozilla-1.9.2">releases/mozilla-1.9.2</a> にあります。このソースコードを入手するには:</p>

<pre># Mozilla ソースコードを 192src/ フォルダに pull します。
# 数百メガバイトの履歴が .hg フォルダにダウンロードされるため、しばらく時間がかかります。
hg clone http://hg.mozilla.org/releases/mozilla-1.9.2/ 192src

cd 192src</pre>

<h4 class="editable" id="mozilla-1.9.1_(Firefox_3.5)">mozilla-1.9.1 (Firefox 3.5)</h4>

<p>Firefox 3.5 (Gecko 1.9.1) リリースのためのソースコードは <a class="external" href="http://hg.mozilla.org/releases/mozilla-1.9.1" title="http://hg.mozilla.org/releases/mozilla-1.9.1">releases/mozilla-1.9.1</a> にあります。このソースコードを入手するには:</p>

<pre># Mozilla ソースコードを 191src/ フォルダに pull します。
# 数百メガバイトの履歴が .hg フォルダにダウンロードされるため、しばらく時間がかかります。
hg clone http://hg.mozilla.org/releases/mozilla-1.9.1/ 191src

cd 191src
</pre>

<h4 id="comm-central_(ThunderbirdSeaMonkeyCalendar)">comm-central (Thunderbird/SeaMonkey/Calendar)</h4>

<p><code>comm-central</code> のソースコードを pull してビルドするための情報については、<a class="internal" href="/ja/Developer_Guide/Source_Code/Getting_comm-central" title="ja/Comm-central source code (Mercurial)">Comm-central source code (Mercurial)</a> を参照してください。</p>

<h3 id="Bundles" name="Bundles">バンドル</h3>

<p>If you have a poor network connection that is preventing 'hg clone' from completing, you may want to try downloading a bundle of the repository you're interested in (which, unlike 'hg clone', can be resumed when network problems interrupt the download).</p>

<p>Up to date bundles of some of the repositories listed at <a class="external" href="http://hg.mozilla.org/" title="http://hg.mozilla.org/">http://hg.mozilla.org/</a> are available on ftp.mozilla.org:</p>

<ul>
 <li><a class="external" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/bundles/mozilla-central.hg" title="http://ftp.mozilla.org/pub/mozilla.org/firefox/bundles/mozilla-central.hg">mozilla-central</a></li>
</ul>

<p>Bundles for some of the repositories can also be found by googling. For example, <a class="external" href="http://www.rumblingedge.com/files/hg-bundles/" title="http://www.rumblingedge.com/files/hg-bundles/">here is a comm-central bundle</a>.  The 'hg pull' you will run later will verify the integrity of the bundle you download.</p>

<p>Once you have downloaded the repository bundle, follow these steps:</p>

<p>1. Initialize a new repository (in a directory called 'src' here):</p>

<pre>hg init src
</pre>

<p>2. Un-bundle the bundle file to that repository:</p>

<pre>cd src
hg unbundle /path/to/your/repository.bundle</pre>

<p>3. Add the following lines to the file <code>src/.hg/hgrc</code> (you may have to create it) so that hg will automatically know where to pull changes from in future (replacing 'mozilla-central' as appropriate):</p>

<pre>[paths]
default = http://hg.mozilla.org/mozilla-central/</pre>

<p>4. Update the repository to get all the changes since the bundle was created (this step also doubles as a check of the bundle integrity since if its contents are not exactly the same as what's in the official repository then the 'hg pull' will fail):</p>

<pre>hg pull</pre>

<p>5. Check out a working copy from your new up to date repository:</p>

<pre>hg up</pre>

<h3 id="Building" name="Building">ビルド</h3>

<p><a href="/ja/Configuring_Build_Options" title="ja/Configuring_Build_Options">Configure</a> を実行し、通常どおり <code>.mozconfig</code> ファイルと <code>make -f client.mk</code> でビルドします。</p>

<p><a class="internal" href="/ja/Developer_Guide/Build_Instructions/Linux_Build_Prerequisites" title="Ja/Linux Build Prerequisites"><u>Linux_Build_Prerequisites</u></a></p>

<pre class="eval"># mozconfig ファイルは自分で作成するか、この最小のデフォルトファイルを使用してください。
echo '. $topsrcdir/browser/config/mozconfig' &gt; .mozconfig

# configure ファイルは 'autoconf-2.13' コマンドを使用して自動的に生成されます。
# ただし、OS X では autoconf213 が使用されます。
# あなたのシステムで autoconf-2.13 が正しいコマンド名でない場合、
# 例えば Ubuntu Linux では、下記のように実際のコマンド名を使用してください。
echo 'mk_add_options AUTOCONF=autoconf2.13' &gt;&gt; .mozconfig

# ビルドします。configure が自動的に実行されます。
make -f client.mk build
</pre>

<h3 id="See_also" name="See_also">参照</h3>

<ul>
 <li><a href="/ja/Mercurial" title="ja/Mercurial">Mercurial</a> ページには、差分の作成、変更のコミット、共有リポジトリのパブリッシュについての情報があります。</li>
</ul>