<div>{{APIRef("DOM")}}</div>

<p><a href="/ja/docs/Web/HTML">HTML</a> ドキュメントにおいて <strong><code>Document.createElement()</code></strong> メソッドは、<code>tagName</code> で指定した HTML 要素を生成する、あるいは <code>tagName</code> を認識できない場合に {{domxref("HTMLUnknownElement")}} を生成します。<a href="/ja/docs/Mozilla/Tech/XUL">XUL</a> ドキュメントでは、指定した XUL 要素を生成します。その他のドキュメントでは、<code>null</code> 名前空間 URI の要素を生成します。</p>

<p>要素の名前空間 URI を明示的に指定するには、<a href="/ja/docs/Web/API/Document/createElementNS" title="Creates an element with the specified namespace URI and qualified name."><code>document.createElementNS()</code></a> を使用します。</p>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="brush: js"><var>var <em>element</em></var> = <var>document</var>.createElement(<em><var>tagName[, options]</var></em>);
</pre>

<h3 id="Parameters" name="Parameters">引数</h3>

<dl>
 <dt><code>tagName</code></dt>
 <dd>生成される要素の型を特定する文字列。生成される要素の {{domxref("Node.nodeName", "nodeName")}} は <code>tagName</code> の値で初期化されます。このメソッドで修飾名 ("html:a" など) を使用しないでください。HTML ドキュメントで呼び出すと、<code>createElement()</code> は要素を生成する前に <code>tagName</code> を小文字に変換します。Firefox、Opera、Chrome では、<code>createElement(null)</code> が <code>createElement("null")</code> のように動作します。</dd>
 <dt><code>options</code>{{optional_inline}}</dt>
 <dd><code>is</code> という名前のプロパティをひとつ持つ、省略可能な <code>ElementCreationOptions</code> オブジェクトです。<code>is</code> プロパティの値は、前に <code>customElements.define()</code> を使用して定義したカスタム要素の名前です。以前のバージョンの <a href="https://www.w3.org/TR/custom-elements/">Custom Elements 仕様書</a> との後方互換性のため、一部のブラウザーはオブジェクトの代わりに文字列を渡すことを認めており、この文字列はカスタム要素のタグ名です。この引数の使用方法について、詳しくは <a href="https://developers.google.com/web/fundamentals/primers/customelements/#extendhtml">Extending native HTML elements</a> をご覧ください。</dd>
 <dd>新しい要素には、値がカスタム要素のタグ名である <code>is</code> 属性が与えられます。カスタム要素は、一部のブラウザーのみ使用できる実験的な機能です。</dd>
</dl>

<h3 id="Return_value" name="Return_value">戻り値</h3>

<p>新しい <a href="/ja/docs/Web/API/Element" title="The Element interface represents an object of a Document. This interface describes methods and properties common to all kinds of elements. Specific behaviors are described in interfaces which inherit from Element but add additional functionality."><code>Element</code></a>.</p>

<h2 id="Example" name="Example">例</h2>

<p>この例では新しい <code>&lt;div&gt;</code> を生成し、"<code>div1</code>" の id の要素の前に挿入します。</p>

<h3 id="HTML" name="HTML">HTML</h3>

<pre class="brush:html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;||Working with elements||&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="div1"&gt;The text above has been created dynamically.&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<h3 id="JavaScript" name="JavaScript"><span style="line-height: normal;">JavaScript</span></h3>

<pre class="brush:js">document.body.onload = addElement;

function addElement () { 
  // 新しい div 要素を作成します 
  var newDiv = document.createElement("div"); 
  // いくつかの内容を与えます 
  var newContent = document.createTextNode("Hi there and greetings!"); 
  // テキストノードを新規作成した div に追加します
  newDiv.appendChild(newContent);  

  // DOM に新しく作られた要素とその内容を追加します 
  var currentDiv = document.getElementById("div1"); 
  document.body.insertBefore(newDiv, currentDiv); 
}</pre>

<p>{{EmbedLiveSample("Example", 500, 50)}}</p>

<h2 id="Specifications" name="Specifications">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">策定状況</th>
   <th scope="col">コメント</th>
  </tr>
  <tr>
   <td>{{SpecName('DOM WHATWG', "#dom-document-createelement", "Document.createElement")}}</td>
   <td>{{Spec2('DOM WHATWG')}}</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザー実装状況</h2>

<div>{{CompatibilityTable}}</div>

<div id="compat-desktop">     
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}<sup>[1][2]</sup></td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
  </tr>
  <tr>
   <td><code>options</code> 引数</td>
   <td>{{CompatVersionUnknown}}<sup>[3]</sup></td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatGeckoDesktop(50)}}<sup>[4][5]</sup></td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">  
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Android 版 Chrome</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
  </tr>
  <tr>
   <td><code>options</code> 引数</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}<sup>[3]</sup></td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatVersionUnknown}}<sup>[3]</sup></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Gecko 22.0 {{geckoRelease("22.0")}} より、<code>createElement()</code> は引数が "bgsounds"、"multicol"、または "image" である場合に、{{domxref("HTMLSpanElement")}} インターフェイスを使用しません。代わりに、"bgsound" と "multicol" には <code>HTMLUnknownElement</code> を、 "image" には {{domxref("HTMLElement")}} を使用します。</p>

<p>[2] <code>createElement</code> の Gecko 実装は XUL や XHTML ドキュメントに対する DOM 実装に準拠していません。生成した要素の <code>localName</code> や <code>namespaceURI</code> は<code>null</code> に設定されません。詳細は {{Bug(280692)}} を参照してください。</p>

<p>[3] 以前のバージョンの仕様書ではこの引数が文字列であり、その値はカスタム要素のタグ名でした。例えば <code>document.createElement("button", {id: "custom-button"})</code> ではなく <code>document.createElement("button", "custom-button")</code> とすることができました。後方互換性のため Chrome はどちらの形式も許容していますが、文字列形式は非推奨です。</p>

<p>[4] 上記 [3] を参照: Chrome と同様に Firefox もオブジェクトの代わりに文字列も受け入れますが、バージョン 51 以降に限ります。バージョン 50 では、<code>options</code> はオブジェクトであることが必須です。</p>

<p>[5] Firefox でカスタム要素の実験を行うには、設定項目 <code>dom.webcomponents.enabled</code> および <code>dom.webcomponents.customelements.enabled</code> を <code>true</code> に設定しなければなりません。</p>

<h3 id="Quantum_CSS_notes" name="Quantum_CSS_notes">Quantum CSS に関する補足</h3>

<ul>
 <li>Gecko では、切り離されたサブツリー (例えば <code>createElement()</code> を使用して作成した、DOM に未挿入の {{htmlelement("div")}}) を作成すると、サブツリーのルート要素がブロックレベル要素として設定されます。

  <p>Firefox の新たな並列処理 CSS エンジン (<a href="https://wiki.mozilla.org/Quantum">Quantum CSS</a> または <a href="https://wiki.mozilla.org/Quantum/Stylo">Stylo</a> としても知られています) では仕様書に従って、インラインとして設定します ({{bug(1374994)}})。</p>
 </li>
</ul>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li>{{domxref("Node.removeChild()")}}</li>
 <li>{{domxref("Node.replaceChild()")}}</li>
 <li>{{domxref("Node.appendChild()")}}</li>
 <li>{{domxref("Node.insertBefore()")}}</li>
 <li>{{domxref("Node.hasChildNodes()")}}</li>
</ul>