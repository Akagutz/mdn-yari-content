<div>{{APIRef}}</div>

<p>{{domxref("Document")}} インターフェイスの <strong><code>hasStorageAccess()</code></strong> メソッドは、文書がファーストパーティのストレージへのアクセス権を持っているかどうかを真偽値で解決する {{jsxref("Promise")}} を返します。</p>

<p>詳しくは <a href="/ja/docs/Web/API/Storage_Access_API">Storage Access API</a> を参照してください。</p>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox">Promise&lt;boolean&gt; hasStorageAccess()</pre>

<h3 id="Parameters" name="Parameters">引数</h3>

<p>なし。</p>

<h3 id="Return_value" name="Return_value">返値</h3>

<p>文書がファーストパーティのストレージへのアクセス権を持っているかどうかを真偽値で解決する {{jsxref("Promise")}} です。</p>

<p>ユーザーの操作イベントの処理中にこの関数が呼び出された場合、 Promise が解決されると、ユーザー操作が処理されたかのように解決ハンドラーが実行されるため、ユーザーによる有効化が必要な API を呼び出すことができます。</p>

<h2 id="Examples" name="Examples">例</h2>

<pre class="brush: js">document.hasStorageAccess().then(hasAccess =&gt; {
  if (hasAccess) {
    // ストレージへのアクセスがすでに許可されている。
  } else {
    // まだストレージへのアクセスは許可されていない。
    // requestStorageAccess() を呼び出すと良いかもしれない。
  }
});</pre>

<h2 id="Specifications" name="Specifications">仕様書</h2>

<p>この API はまだ提案段階にあります。 — 標準化プロセスはまだ始まっていません。現在のところ、この API の詳細の仕様書は、アップルのブログ投稿の <a href="https://webkit.org/blog/8124/introducing-storage-access-api/">Introducing Storage Access API</a>、および <a href="https://github.com/whatwg/html/issues/3338">WHATWG HTML issue 3338 — Proposal: Storage Access API</a> で見ることができます。</p>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの対応</h2>

<div class="hidden">このページの互換性一覧表は構造化データから生成されています。データに協力していただけるのであれば、 <a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送信してください。</div>

<p>{{Compat("api.Document.hasStorageAccess")}}</p>

<h2 id="See_also" name="See_also">関連情報</h2>

<p><a href="/en-US/docs/Web/API/Storage_Access_API">Storage Access API</a></p>