<div>{{DefaultAPISidebar("Fetch API")}}</div>

<p>Fetch API には (ネットワーク越しの通信を含む) リソース取得のためのインターフェイスが定義されています。{{domxref("XMLHttpRequest")}} と似たものではありますが、より強力で柔軟な操作が可能です。</p>

<h2 id="Concepts_and_usage" name="Concepts_and_usage">概念と利用方法</h2>

<p>Fetch では {{domxref("Request")}} と {{domxref("Response")}} が一般的な形で定義されています。またネットワークリクエストに関連する様々なものも定義されています。これらは service worker や Cache API といったリクエストとレスポンスを扱う API や、独自のリクエストを発生させる場面でも利用できるようになるでしょう。</p>

<p>また CORS や HTTP オリジンヘッダーの振る舞いといった関連した概念についても定義されています。この定義は、現行の分散している個別の定義を置き換えるものです。</p>

<p>リソースを取得するためのリクエストは、 {{domxref("GlobalFetch.fetch")}} メソッドを呼ぶことで作成できます。このメソッドは {{domxref("Window")}} や {{domxref("WorkerGlobalScope")}} といったインターフェイスによって実装されています。その結果、リソース取得を必要とする様々な場面での利用が可能です。</p>

<p><code>fetch()</code> メソッドは必須の引数を1つ取り、取得したいリソースのパスを指定します。成功か失敗かに関わらず、リクエストに対する {{domxref("Response")}} に解決できる {{domxref("Promise")}} を返します。第2引数は任意で、 <code>init</code> オプションオブジェクトを渡すことができます。（{{domxref("Request")}} をご覧ください）。</p>

<p>{{domxref("Response")}} を受け取ると、レスポンスに含まれるコンテンツ本体と、その処理方法を定義するための多数のメソッドが利用できるようになります（{{domxref("Body")}} をご覧ください）。</p>

<p>{{domxref("Request.Request","Request()")}} および {{domxref("Response.Response","Response()")}} を利用することで、リクエストとレスポンスを直接作成できます。ただしこれらのオブジェクトは、{{domxref("FetchEvent.respondWith")}} のような他の API 呼び出しの結果として取得されるべきもので、直接作成しないほうが良いでしょう。</p>

<div class="note">
<p><strong>注</strong>: Fetch API の詳しい利用方法は  <a href="/ja/docs/Web/API/Fetch_API/Using_Fetch">Using Fetch</a> を参照してください。また <a href="/ja/docs/Web/API/Fetch_API/Basic_concepts">Fetch basic concepts</a> では、Fetch API の基本概念が解説されています。</p>
</div>

<h3 id="Aborting_a_fetch" name="Aborting_a_fetch">取得の中止</h3>

<p>ブラウザーは Fetch や XHR などの操作を完了前に中止させることができる {{domxref("AbortController")}} および {{domxref("AbortSignal")}} インターフェイス（つまり Abort API）に実験的に対応し始めています。詳しくはインターフェイスのページを参照してください。</p>

<h2 id="Fetch_Interfaces" name="Fetch_Interfaces">Fetch インターフェイス</h2>

<dl>
 <dt>{{domxref("WindowOrWorkerGlobalScope.fetch()")}}</dt>
 <dd><code>fetch()</code> メソッドはリソース取得のために使用されます。</dd>
 <dt>{{domxref("Headers")}}</dt>
 <dd>リクエストとレスポンスのヘッダーを表現しています。ヘッダー情報への問い合わせや、結果による振る舞いの選択が可能です。</dd>
 <dt>{{domxref("Request")}}</dt>
 <dd>リソースのリクエストを表します。</dd>
 <dt>{{domxref("Response")}}</dt>
 <dd>リクエストに対するレスポンスを表します。</dd>
</dl>

<h2 id="Fetch_mixin" name="Fetch_mixin">Fetch ミックスイン</h2>

<dl>
 <dt>{{domxref("Body")}}</dt>
 <dd>レスポンスとリクエストの本体に関係するメソッドが定義されています。これらを利用することで、コンテントタイプ自身と、コンテントタイプごとの処理を定めることが可能になります。</dd>
</dl>

<h2 id="Specifications" name="Specifications">仕様書</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">状態</th>
   <th scope="col">備考</th>
  </tr>
  <tr>
   <td>{{SpecName('Fetch')}}</td>
   <td>{{Spec2('Fetch')}}</td>
   <td>初回定義</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの対応</h2>

<div class="hidden">このページの互換性一覧表は構造化データから生成されています。データに協力していただけるのであれば、 <a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送信してください。</div>

<p>{{Compat("api.WindowOrWorkerGlobalScope.fetch")}}</p>

<p>[1] この API は設定で実装されています。</p>

<p>[2] Firefox 52 以前では、 <code>get()</code> は特定のヘッダーの最初の値のみを返し、 <code>getAll()</code> がすべての値を返していました。52以降は、 <code>get()</code> がすべての値を返すようになり、 <code>getAll()</code> は削除されました。</p>

<p>[3] 読み取りできるストリームは Firefox で実装されていますが、 <code>dom.streams.enabled</code> および <code>javascript.options.streams</code> の設定が必要です。</p>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/API/Fetch_API/Using_Fetch">Using Fetch</a></li>
 <li><a href="/ja/docs/Web/API/ServiceWorker_API">ServiceWorker API</a></li>
 <li><a href="/ja/docs/Web/HTTP/Access_control_CORS">オリジン間リソース共有 (CORS)</a></li>
 <li><a href="/ja/docs/Web/HTTP">HTTP</a></li>
 <li><a href="https://github.com/github/fetch">Fetch polyfill</a></li>
 <li><a href="/ja/docs/Web/API/Fetch_API/Basic_concepts">Fetch basic concepts</a></li>
</ul>