<div>{{JSRef}}</div>

<p><strong><code>substring()</code></strong> メソッドは <code>string</code> オブジェクトの開始・終了インデックスの間、または文字列の最後までの部分集合を返します。</p>

<div>{{EmbedInteractiveExample("pages/js/string-substring.html")}}</div>

<p class="hidden">このデモのソースファイルは GitHub リポジトリに格納されています。デモプロジェクトに協力したい場合は、 <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> をクローンしてプルリクエストを送信してください。</p>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox"><var>str</var>.substring(<var>indexStart</var>[, <var>indexEnd</var>])</pre>

<h3 id="Parameters" name="Parameters">引数</h3>

<dl>
 <dt><code><var>indexStart</var></code></dt>
 <dd>返される部分文字列の、最初の文字を含んだ位置です。</dd>
 <dt><code><var>indexEnd</var></code></dt>
 <dd>省略可能です。返される部分文字列から外される最初の文字の位置です。</dd>
</dl>

<h3 id="Return_value" name="Return_value">返値</h3>

<p>与えられた文字列から抽出された区間を含む新しい文字列です。</p>

<h2 id="Description" name="Description">解説</h2>

<p><code>substring()</code> は <code><var>indexStart</var></code> から <code><var>indexEnd</var></code> の直前までの文字を取り出します。特に、</p>

<ul>
 <li><code><var>indexEnd</var></code> が省略された場合、<code>substring()</code> は文字列の最後までの文字を取り出します。</li>
 <li><code><var>indexStart</var></code> が <code><var>indexEnd</var></code> と等しい場合、 <code>substring()</code> は空の文字列を返します。</li>
 <li><code><var>indexStart</var></code> が <code><var>indexEnd</var></code> より大きかった場合、 <code>substring()</code> は 2 つの引数が交換されたものとして実行されます。下記の例をご覧ください。</li>
</ul>

<p>引数が 0 未満、または <code>stringName.length</code> を超えた場合、それはそれぞれ 0 と <code>stringName.length</code> として扱われます。いずれかの引数が {{jsxref("NaN")}} の場合、それは 0 として扱われます。</p>

<h2 id="Examples" name="Examples">例</h2>

<h3 id="Using_substring" name="Using_substring"><code>substring()</code> の使用</h3>

<p>以下の例では <code>substring()</code> を使用して、 <code>Mozilla</code> という文字列から文字を取り出して表示します。</p>

<pre class="brush: js">var anyString = 'Mozilla';

// 'M' と表示
console.log(anyString.substring(0, 1));
console.log(anyString.substring(1, 0));

// 'Mozill' と表示
console.log(anyString.substring(0, 6));

// 'lla' と表示
console.log(anyString.substring(4));
console.log(anyString.substring(4, 7));
console.log(anyString.substring(7, 4));

// 'Mozilla' と表示
console.log(anyString.substring(0, 7));
console.log(anyString.substring(0, 10));
</pre>

<h3 id="Using_substring()_with_length_property" name="Using_substring()_with_length_property"><code>substring()</code> と <code>length</code> プロパティの使用</h3>

<p>次の例では <code>substring()</code> メソッドと {{jsxref("String.length", "length")}} プロパティを使用して、、特定の文字列の最後の文字を抜き出しています。この方法では、上記の例と同じようあなたが最初と最後のインデックスを知っている必要がないこと考えると、覚えやすいかもしれません。</p>

<pre class="brush: js">// 最後の 4 文字の 'illa' を表示します
var anyString = 'Mozilla';
var anyString4 = anyString.substring(anyString.length - 4);
console.log(anyString4);

// 最後の 5 文字の 'zilla' を表示します
var anyString = 'Mozilla';
var anyString5 = anyString.substring(anyString.length - 5);
console.log(anyString5);
</pre>

<h3 id="The_difference_between_substring()_and_substr()" name="The_difference_between_substring()_and_substr()"><code>substring()</code> と <code>substr()</code> の違い</h3>

<p><code>substring()</code> メソッドと {{jsxref("String.substr", "substr()")}} メソッドとの間には微妙な違いがあるので、混乱しないように注意してください。</p>

<p><code>substring()</code> の引数は開始位置と終了位置インデックスを表しますが、 <code>substr()</code> の引数は開始位置と返される文字列に含まれる文字数を表します。</p>

<pre class="brush: js">var text = 'Mozilla';
console.log(text.substring(2,5)); // =&gt; "zil"
console.log(text.substr(2,3));    // =&gt; "zil"</pre>

<h3 id="Differences_between_substring()_and_slice()" name="Differences_between_substring()_and_slice()"><code>substring()</code> と <code>slice()</code> の違い</h3>

<p><code>substring()</code> メソッドと {{jsxref("String.slice", "slice()")}} メソッドはほぼ同じですが、特に負の数の引数の扱いについて、いくつかの微妙な違いがあります。</p>

<p><code>substring()</code> メソッドは <code><var>indexStart</var></code> が <code><var>indexEnd</var></code> よりも大きい場合に二つの引数を交換するので、文字列が返されます。 {{jsxref("String.slice", "slice()")}} メソッドはこの場合には空文字列を返します。</p>

<pre class="brush: js">var text = 'Mozilla';
console.log(text.substring(5, 2)); // =&gt; "zil" 
console.log(text.slice(5, 2));     // =&gt; ""
</pre>

<p>どちらかまたは両方の引数が負の数または <code>NaN</code> であった場合、 <code>substring()</code> メソッドはこれらを <code>0</code> として扱います。</p>

<pre class="brush: js">console.log(text.substring(-5, 2)); // =&gt; "Mo"
console.log(text.substring(-5, -2)); // =&gt; "" 
</pre>

<p><code>slice()</code> も <code>NaN</code> の引数を <code>0</code> として扱いますが、負の数を指定した場合は、文字列の末尾からの文字数でインデックスを探します。</p>

<pre class="brush: js">console.log(text.slice(-5, 2)); // =&gt; ""
console.log(text.slice(-5, -2)); // =&gt; "zil"
</pre>

<p>負の数を使用した例は {{jsxref("String.slice", "slice()")}} のページをご覧ください。</p>

<h3 id="Replacing_a_substring_within_a_string" name="Replacing_a_substring_within_a_string">文字列内の部分文字列の置き換え</h3>

<p>次の例は、文字列内の部分文字列を置き換えます。これは単独の文字と部分文字列の両方を置き換えます。例の最後にある関数呼び出しは、 <code>Brave New World</code> という文字列を <code>Brave New Web</code> に置き換えます。</p>

<pre class="brush: js">// fullS という文字列内で oldS を newS に置き換えます。
function replaceString(oldS, newS, fullS) {
  for (var i = 0; i &lt; fullS.length; ++i) {
    if (fullS.substring(i, i + oldS.length) == oldS) {
      fullS = fullS.substring(0, i) + newS + fullS.substring(i + oldS.length, fullS.length);
    }
  }
  return fullS;
}

replaceString('World', 'Web', 'Brave New World');
</pre>

<p>なお、これは <code>oldS</code> が <code>newS</code> の部分文字列である場合に無限ループに陥ります。 — 例えば、 <code>World</code> を <code>OtherWorld</code> で置き換える場合などです。置き換えるのにより良い方法は以下の通りです。</p>

<pre class="brush: js">function replaceString(oldS, newS, fullS) {
  return fullS.split(oldS).join(newS);
}
</pre>

<p>上述のコードは、 substring の操作の例を提供します。部分文字列を置き換える必要があるとき、多くの場合 {{jsxref("String.prototype.replace()")}} を使用します。</p>

<h2 id="Specifications" name="Specifications">仕様書</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">状態</th>
   <th scope="col">備考</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{SpecName('ESDraft', '#sec-string.prototype.substring', 'String.prototype.substring')}}</td>
   <td>{{Spec2('ESDraft')}}</td>
   <td> </td>
  </tr>
  <tr>
   <td>{{SpecName('ES6', '#sec-string.prototype.substring', 'String.prototype.substring')}}</td>
   <td>{{Spec2('ES6')}}</td>
   <td> </td>
  </tr>
  <tr>
   <td>{{SpecName('ES5.1', '#sec-15.5.4.15', 'String.prototype.substring')}}</td>
   <td>{{Spec2('ES5.1')}}</td>
   <td> </td>
  </tr>
  <tr>
   <td>{{SpecName('ES1')}}</td>
   <td>{{Spec2('ES1')}}</td>
   <td>JavaScript 1.0 で実装。</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの対応</h2>

<div class="hidden">このページの互換性一覧表は構造化データから生成されています。データに協力していただけるのであれば、 <a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送信してください。</div>

<p>{{Compat("javascript.builtins.String.substring")}}</p>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li>{{jsxref("String.prototype.substr()")}} {{deprecated_inline}}</li>
 <li>{{jsxref("String.prototype.slice()")}}</li>
</ul>