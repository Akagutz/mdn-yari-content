<p>« <a href="/ja/SVG/Attribute" title="ja/SVG/Attribute">SVG属性リファレンス ホームへ</a></p>

<h2 id="概要">概要</h2>

<p><code>transform</code>属性は、要素と要素の子に適用され変換定義のリストを定義します。transformリストは半角スペースもしくはコンマ（,）で区切り、そのリストは右から左へと順番に適用されます。</p>

<h2 id="使用可能な場所">使用可能な場所</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="row">カテゴリ</th>
   <td>なし</td>
  </tr>
  <tr>
   <th scope="row">値</th>
   <td><strong title="this is the default value">&lt;transform-list&gt;</strong></td>
  </tr>
  <tr>
   <th scope="row">アニメーション</th>
   <td>可</td>
  </tr>
  <tr>
   <th scope="row">標準文書</th>
   <td><a class="external" href="http://www.w3.org/TR/SVG/coords.html#TransformAttribute" title="http://www.w3.org/TR/SVG/coords.html#TransformAttribute">SVG 1.1 (2nd Edition)</a></td>
  </tr>
 </tbody>
</table>

<h3 id="変換定義の種類">変換定義の種類</h3>

<dl>
 <dt>matrix(&lt;a&gt; &lt;b&gt; &lt;c&gt; &lt;d&gt; &lt;e&gt; &lt;f&gt;)</dt>
 <dd>この変換定義は6つの値の変換行列の形式で変形を指定します。 <code>matrix(a,b,c,d,e,f)</code> は以下の変換行列を適用することと等しいです。<math display="block"><semantics><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mi>a</mi></mtd><mtd><mi>c</mi></mtd><mtd><mi>e</mi></mtd></mtr><mtr><mtd><mi>b</mi></mtd><mtd><mi>d</mi></mtd><mtd><mi>f</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><annotation encoding="TeX">\begin{pmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1 \end{pmatrix}</annotation></semantics></math> 以下の行列の等式により、前の座標系に新しい座標系から座標を算出します：<math display="block"><semantics><mrow><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><msub><mi>x</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi></mi><mi></mi><mi>newC</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi></mi><mi>new</mi><mi>C</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mi>a</mi></mtd><mtd><mi>c</mi></mtd><mtd><mi>e</mi></mtd></mtr><mtr><mtd><mi>b</mi></mtd><mtd><mi>d</mi></mtd><mtd><mi>f</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><msub><mi>x</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi>prev</mi><mi>C</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi>prev</mi><mi>C</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mi>a</mi><msub><mi>x</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi></mi><mi>prevC</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub><mo>+</mo><mi>c</mi><msub><mi>y</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi></mi><mi>prevC</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub><mo>+</mo><mi>e</mi></mtd></mtr><mtr><mtd><mi>b</mi><msub><mi>x</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi>prev</mi><mi>C</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub><mo>+</mo><mi>d</mi><msub><mi>y</mi><mstyle mathvariant="normal"><mrow><mi></mi><mi></mi><mi>prev</mi><mi>C</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>S</mi><mi>y</mi><mi>s</mi></mrow></mstyle></msub><mo>+</mo><mi>f</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow></mrow><annotation encoding="TeX"> \begin{pmatrix} x_{\mathrm{prevCoordSys}} \\ y_{\mathrm{prevCoordSys}} \\ 1 \end{pmatrix} = \begin{pmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1 \end{pmatrix} \begin{pmatrix} x_{\mathrm{newCoordSys}} \\ y_{\mathrm{newCoordSys}} \\ 1 \end{pmatrix} = \begin{pmatrix} a x_{\mathrm{newCoordSys}} + c y_{\mathrm{newCoordSys}} + e \\ b x_{\mathrm{newCoordSys}} + d y_{\mathrm{newCoordSys}} + f \\ 1 \end{pmatrix} </annotation></semantics></math></dd>
 <dt>translate(&lt;x&gt; [&lt;y&gt;])</dt>
 <dd>この変換定義は<code>x軸とy軸による移動 (translation)を定義します。この変換定義は</code><code>matrix(1 0 0 1 x y)を実行した結果と同じです。もし</code>y に何も提供されなければ0が提供されたものと想定します。</dd>
 <dt>scale(&lt;x&gt; [&lt;y&gt;])</dt>
 <dd>この変換定義はx軸とy軸による拡大・縮小 (scale operation)を定義します。この変換定義は<code>matrix(x 0 0 y 0 0)を実行した結果と同じです。もしyに何も提供されなければxの値が提供されたものと想定します。</code></dd>
 <dt>rotate(&lt;θ&gt; [&lt;x&gt; &lt;y&gt;])</dt>
 <dd>この変換定義は与えられた座標を基準にしたaの角度分の回転を定義します。もしオプションパラメーターの<code>x</code>と<code>y</code>に何も提供されなければ、回転の基準は現在のユーザー座標系の原点となります。この操作は以下の行列に対応しています。<math display="block"><semantics><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mo lspace="0em" rspace="0em">cos</mo><mi>θ</mi></mtd><mtd><mo>-</mo><mo lspace="0em" rspace="0em">sin</mo><mi>θ</mi></mtd></mtr><mtr><mtd><mo lspace="0em" rspace="0em">sin</mo><mi>θ</mi></mtd><mtd><mo lspace="0em" rspace="0em">cos</mo><mi>θ</mi></mtd></mtr></mtable><mo>)</mo></mrow><annotation encoding="TeX">\begin{pmatrix} \cos \theta &amp; -\sin \theta \\ \sin \theta &amp; \cos \theta \end{pmatrix}</annotation></semantics></math> オプションパラメーターの<code>x</code>と<code>y</code>に値が提供されている場合、<code>回転の基準は点(x, y)となります。</code>この操作は以下の変換定義リストと同じ結果となります： <code>translate(&lt;x&gt;, &lt;y&gt;) rotate(&lt;a&gt;) translate(-&lt;x&gt;, -&lt;y&gt;)</code>.</dd>
 <dt>skewX(&lt;θ&gt;)</dt>
 <dd>この変換定義はx軸を基準にθの角度傾いた平行四辺形状の変形 (skew transformation)を定義します。この操作は以下の行列に対応しています。 <math display="block"><semantics><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mn>1</mn></mtd><mtd><mo lspace="0em" rspace="0em">tan</mo><mi>θ</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><annotation encoding="TeX">\begin{pmatrix} 1 &amp; \tan \theta \\ 0 &amp; 1 \end{pmatrix}</annotation></semantics></math></dd>
 <dt></dt>
 <dt>skewY(&lt;θ&gt;)</dt>
 <dd>この変換定義はy軸を基準に<code>θ</code>の角度傾いた平行四辺形状の変形 (skew transformation)を定義します。この操作は以下の行列に対応しています。 <math display="block"><semantics><mrow><mo>(</mo><mtable rowspacing="0.5ex"><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mo lspace="0em" rspace="0em">tan</mo><mi>θ</mi></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow><annotation encoding="TeX">\begin{pmatrix} 1 &amp; 0 \\ \tan \theta &amp; 1 \end{pmatrix} </annotation></semantics></math></dd>
</dl>

<h2 id="例">例</h2>

<h3 id="移動と回転をするSVG要素">移動と回転をするSVG要素</h3>

<p>この移動をして回転しているシンプルなSVG要素では、transform属性を使っています。オリジナルの要素は半透明にして表示します。</p>

<p>CSS (optional):</p>

<pre class="brush: css">text {
  font: 1em sans-serif;
}</pre>

<p>SVG:</p>

<pre class="brush: html">&lt;svg width="180" height="200"
  xmlns="http://www.w3.org/2000/svg" 
  xmlns:xlink="http://www.w3.org/1999/xlink"&gt;

  &lt;!-- こちらは移動と回転を適用する前の要素 --&gt;
  &lt;rect x="50" y="50" height="100" width="100" style="stroke:#000; fill: #0086B2"<strong> </strong>fill-opacity=0.2 stroke-opacity=0.2&gt;&lt;/rect&gt;

  &lt;!-- ここで移動と回転を適用する --&gt;
  &lt;rect x="50" y="50" height="100" width="100" style="stroke:#000; fill: #0086B2"<strong> transform="translate(30) rotate(45 50 50)"</strong>&gt;&lt;/rect&gt;
  &lt;text x="60" y="105" <strong>transform="translate(30) rotate(45 50 50)"</strong>&gt; Hello Moz! &lt;/text&gt;

&lt;/svg&gt;
</pre>

<p>{{EmbedLiveSample("Rotating_and_Translating_an_SVG_element",200,200,"/files/5217/rotate_and_translate_svg.png.png")}}</p>

<h3 id="General_Transformation" name="General_Transformation">一般的な変換</h3>

<p>ここでは一般的な変換を理解していただくための例を挙げます。 <code>matrix(1,2,3,4,5,6)</code>で新しい座標系に変換し、点(10,20)から点(30,40)に太くて青い線を描画します。 同じ場所に細くて白い線を元の座標系を使用して、先ほどの線の上に描画します。</p>

<pre class="brush: html">&lt;svg width="160" height="230" xmlns="http://www.w3.org/2000/svg"&gt;

  &lt;g transform="matrix(1,2,3,4,5,6)"&gt;
    &lt;!-- 新しい座標系 (太くて青い線)
         x1 = 10 | x2 = 30
         y1 = 20 | y2 = 40
      --&gt;
    &lt;line x1="10" y1="20" x2="30" y2="40" style="stroke-width: 10px; stroke: blue;"/&gt;
  &lt;/g&gt;

  &lt;!-- 元の座標系 (細くて白い線)
       x1 = 1 * 10 + 3 * 20 + 5 = 75  | x2 = 1 * 30 + 3 * 40 + 5 = 155
       y1 = 2 * 10 + 4 * 20 + 6 = 106 | y2 = 2 * 30 + 4 * 40 + 6 = 226
    --&gt;
  &lt;line x1="75" y1="106" x2="155" y2="226" style="stroke-width: 1px; stroke: white;"/&gt;

&lt;/svg&gt;
</pre>

<p>{{ EmbedLiveSample('General_Transformation','200px','250px') }}</p>

<h2 id="要素">要素</h2>

<p>次の要素は<code>transform</code> 属性を使用することができます:</p>

<ul>
 <li>{{ SVGElement("a") }}</li>
 <li>{{ SVGElement("clipPath") }}</li>
 <li>{{ SVGElement("defs") }}</li>
 <li>{{ SVGElement("foreignObject") }}</li>
 <li>{{ SVGElement("g") }}</li>
 <li>{{ SVGElement("switch") }}</li>
 <li>{{ SVGElement("use") }}</li>
 <li><a href="/ja/SVG/Element#Graphics_elements" title="ja/SVG/Element#Graphics">グラフィックス要素</a> »</li>
</ul>