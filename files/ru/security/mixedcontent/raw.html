<p>Когда пользователь заходит на страницу по HTTPS, его соединение с веб-сервером зашифровано с помощью TLS и защищено от перехватчиков и атак типа «человек посередине».</p>

<p>Если страница, переданная по HTTPS, содержит контент, передаваемый по обычному, открытому HTTP, соединение считается частично зашифрованным: то, что передаётся по HTTP, можно перехватить и изменить, вследствие чего соединение уже не считается защищённым. Такие страницы называются <em>страницами со смешанным содержимым</em>.</p>

<h2 id="Консоль_разработчика">Консоль разработчика</h2>

<p>Начиная с Firefox 16, Консоль разработчика показывает предупреждение о смешанном содержимом при появлении такового. Содержимое, загруженное по обычному HTTP, подсвечивается красным, а в конце добавляется ссылка на эту страницу.</p>

<p><a class="internal" href="/files/3794/mixed_content_webconsole.jpg"><img alt="Скриншот Веб-консоли с предупреждением о смешанном содержимом." src="/files/3794/mixed_content_webconsole.jpg" style="border-style: solid; border-width: 1px; height: 116px; width: 700px;"></a></p>

<p>Чтобы избавиться от этой ошибки, нужно перевести все соединения на HTTPS и избавиться от запросов по обычному HTTP.</p>

<p>В Firefox 23 и выше активное смешанное содержимое (например, скрипты) блокируется по умолчанию, а контент для отображения (картинки, видео) может быть заблокирован в настройках. Чтобы помочь разработчикам быстрее найти подобные объекты и быстрее решить проблему, всё заблокированное смешанное содержимое выделяется в разделе «Защита» Веб-консоли.</p>

<p><a href="/files/5261/blocked-mixed-content-errors.png"><img alt="Скриншот предупреждения-ошибки о заблокированном смешанном содержимом в разделе «Защита» Веб-консоли." src="https://mdn.mozillademos.org/files/5261/blocked-mixed-content-errors.png" style="height: 107px; width: 725px;"></a></p>

<h2 id="Типы_смешанного_содержимого.">Типы смешанного содержимого.</h2>

<p>Смешанное содержимое делится на две группы: <strong>Пассивное (отображаемое)</strong> содержимое и <strong>Активное</strong> содержимое. Разница между ними заключается в том, какой урон контент может нанести в случае перехвата и изменения в процессе передачи. Если атаковано пассивное содержимое, риск низкий — нарушится лишь отображение страницы. Если же атаке подвергнется активный контент, риск станет высоким — атакующий может выдать поддельный сайт, украсть личные данные, перенаправить на небезопасный сайт и т.д.</p>

<h3 id="Пассивное_смешанное_содержимое">Пассивное смешанное содержимое</h3>

<p>Пассивное смешанное содержимое это содержимое, отправленное по HTTP, содержащееся на странице HTTPS, но которое не может изменить другие части страницы. Например, атакующий может подменить картинку, отправленную по HTTP, на непристойное содержимое или сообщение пользователю. Атакующий так же может просматривать активность пользователя, наблюдая, какие изображения отправляются пользователю. Зная, какие картинки загружает пользователь, злоумышленник может выяснить, какие страницы пользователь посещает.</p>

<h4 id="Список_пассивного_смешанного_контента">Список пассивного смешанного контента</h4>

<p>Здесь описаны все возможные элементы пассивного контента:</p>

<ul>
 <li><a href="/ru/docs/Web/HTML/Element/audio" title="/ru/docs/Web/HTML/Element/audio">&lt;audio&gt;</a> (атрибут <code>src</code>)</li>
 <li><a href="/ru/docs/Web/HTML/Element/Img" title="/ru/docs/Web/HTML/Element/Img">&lt;img&gt;</a> (атрибут <code>src</code>)</li>
 <li><a href="/ru/docs/Web/HTML/Element/video" title="/ru/docs/Web/HTML/Element/Img">&lt;video&gt;</a> (атрибут <code>src</code>)</li>
 <li><a href="/ru/docs/Web/HTML/Element/object" title="/ru/docs/Web/HTML/Element/object">&lt;object&gt;</a> (когда &lt;object&gt; выполняет запросы по HTTP)</li>
</ul>

<h3 id="Активное_смешанное_содержимое">Активное смешанное содержимое</h3>

<p>Активное смешанное содержимое имеет достук ко всему дереву DOM или его части. Этот тип может изменить поведение страницы, защищённой HTTPS, и, теоретически, украсть пароли у пользователя. В отличие от пассивного контента, активный уязвим гораздо сильнее.</p>

<p>В случае с активным смешанным содержимым, атакующий может перехватить запрос, записав туда нежелательный код JavaScript, способный украсть личные данные пользователя или установить опасное программное обеспечение, используя уязвимости в плагинах.</p>

<p>Риск, связанный с активным контентом, не зависит от типа сайта и насколько ценные данные вводит на нём пользователь. На странице можеть быть как общедоступная информация, так и данные, доступные только после авторизации. Даже если страница общедоступна и не содержит никаких ценных данных, с помощью активного контента злоумышленник может перенаправить пользователя на другие страницы и украсть оттуда cookies.</p>

<h4 id="Список_активного_содержимого">Список активного содержимого</h4>

<p>Ниже описаны элементы, относящиеся к активному содержимому:</p>

<ul>
 <li><a href="/ru/docs/Web/HTML/Element/script" title="/ru/docs/Web/HTML/Element/script">&lt;script&gt;</a> (атрибут <code>src</code>)</li>
 <li><a href="/ru/docs/Web/HTML/Element/link" title="/ru/docs/Web/HTML/Element/link">&lt;link&gt;</a> (атрибут <code>href</code>) (включая CSS)</li>
 <li><a href="/ru/docs/Web/API/XMLHttpRequest" title="/ru/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a> и его запросы</li>
 <li><a href="/ru/docs/Web/HTML/Element/iframe" title="/ru/docs/Web/HTML/Element/iframe">&lt;iframe&gt;</a> (атрибут <code>src</code>)</li>
 <li>Все случаи, когда в CSS используется параметр <a href="http://www.w3.org/TR/css3-values/#urls" title="http://www.w3.org/TR/css3-values/#urls">url</a> (<a href="/ru/docs/Web/CSS/@font-face" title="/ru/docs/Web/CSS/@font-face">@font-face</a>, <a href="/ru/docs/Web/CSS/cursor" title="/ru/docs/Web/CSS/cursor">cursor</a>, <a href="/ru/docs/Web/CSS/background-image" title="/ru/docs/Web/CSS/background-image">background-image</a> и т.д.)</li>
 <li><a href="/ru/docs/Web/HTML/Element/object" title="/ru/docs/Web/HTML/Element/object">&lt;object&gt;</a> (атрибут <code>data</code>)</li>
</ul>

<h2 id="Предупреждения_в_консоли">Предупреждения в консоли</h2>

<p>Веб-консоль Firefox отображает предупреждение о смешанном содержании в панели «Сеть», когда страница на вашем веб-сайте имеет эту проблему. Ресурс смешанного контента, загруженный через HTTP, будет отображаться красным цветом вместе с текстом «смешанный контент», который ссылается на эту страницу.</p>

<p> </p>

<p><img alt="A screenshot of blocked mixed content errors in the Security Pane of the Web Console" src="https://mdn.mozillademos.org/files/12543/mixed_content_webconsole.png"></p>

<p> </p>

<p> </p>

<p>Помимо обнаружения этих предупреждений в веб-консоли, вы можете использовать политику безопасности контента (CSP) для отчета о проблемах или искателя веб-сайта для поиска проблем на вашем сайте, таких как HTTPS Checker или Mixed Content Scan.</p>

<p>Начиная с Firefox 23, смешанное активное содержимое блокируется по умолчанию (и смешанный контент отображения может быть заблокирован, установив предпочтение). Чтобы веб-разработчики упрощали поиск ошибок смешанного содержимого, все заблокированные запросы смешанного контента регистрируются на панели «Безопасность» веб-консоли, как показано ниже:</p>

<p><img alt="A screenshot of blocked mixed content errors in the Security Pane of the Web Console" src="https://mdn.mozillademos.org/files/12543/mixed_content_webconsole.png"></p>

<p>Чтобы устранить этот тип ошибки, все запросы на HTTP-контент должны быть удалены и заменены содержимым, переданным через HTTPS. Некоторые распространенные примеры смешанного контента включают в себя файлы JavaScript, таблицы стилей, изображения, видео и другие медиа файлы.</p>

<p> </p>

<p> </p>

<h2 id="См._также">См. также</h2>

<ul>
 <li><a href="https://w3c.github.io/webappsec/specs/mixedcontent/" title="https://w3c.github.io/webappsec/specs/mixedcontent/">Mixed Content - W3C Editor's Draft</a></li>
</ul>

<div class="warning">
<p><a href="https://developer.mozilla.org/ru/docs/Security/MixedContent/FixMixedContent">Как исправить страницу со смешанным содержимым</a></p>
</div>

<p> </p>