<p>webจาวาสคริปต์ถูกออกแบบด้วยหลักของอ็อบเจกต์อย่างง่าย โดยอ็อบเจกต์คือชุดของคุณสมบัติต่างๆ และคุณสมบัติก็คือความเกี่ยวข้องกันของชื่อและค่าข้อมูล ค่าข้อมูลของคุณสมบัติอาจเป็นฟังก์ชัน ซึ่งถูกเรียกว่า เมธอด นอกเหนือจากอ็อบเจกต์ต่างๆที่มีอยู่ในเบราว์เซอร์แล้ว คุณยังสามารถสร้างอ็อบเจกต์ของตัวเองได้</p>

<div class="summary">ในบทนี้จะอธิบายวิธีการใช้อ็อบเจกต์, คุณสมบัติ, ฟังก์ชัน, และเมธอด รวมถึงวิธีการสร้างอ็อบเจกต์ของคุณเอง</div>

<h2 id="อ็อบเจกต์เบื้องต้น">อ็อบเจกต์เบื้องต้น</h2>

<p>อ็อบเจกต์ต่างๆในจาวาสคริปต์, ก็เหมือนกับภาษาโปรแกรมแบบอื่นๆ ที่สามารถนำไปเปรียบเทียบได้กับวัตถุต่างๆในชีวิตจริง แนวคิดของอ็อบเจกต์ในจาวาสคริปต์ สามารถเข้าใจได้ด้วยวัตถุที่จับต้องได้ในชีวิตจริง</p>

<p>ในจาวาสคริปต์, อ็อบเจกต์คือสิ่งที่อยู่ได้ด้วยตัวเอง พร้อมคุณสมบัติและชนิด เมื่อนำมาเปรียบเทียบกับถ้วย, ถ้วยเป็นวัตถุชนิดหนึ่ง มีคุณสมบัติต่างๆ ถ้วยมีสี มีดีไซน์ น้ำหนัก วัสดุที่ใช้ทำ ฯลฯ ​ในทำนองเดียวกัน, อ็อบเจกต์จาวาสคริปต์ ก็สามารถมีคุณสมบัติต่างๆ ที่อธิบายลักษณะเฉพาะของมันเช่นกัน</p>

<h2 id="อ็อบเจกต์และคุณสมบัติ">อ็อบเจกต์และคุณสมบัติ</h2>

<p>จาวาสคริปต์อ็อบเจกต์ทุกตัวจะมีคุณสมบัติติดมาด้วย ซึ่งคุณสมบัติของอ็อบเจกต์ก็คือตัวแปรธรรมดาในจาวาสคริปต์ที่ติดเข้ากับอ็อบเจกต์ โดยคุณสมบัติของอ็อบเจกต์จะกำหนดลักษณะเฉพาะของอ็อบเจกต์ และคุณสามารถเข้าถึงคุณสมบัติของอ็อบเจกต์ได้ ด้วยเครื่องหมายจุดดังนี้:</p>

<div style="margin-right: 270px;">
<pre class="brush: js">objectName.propertyName
</pre>
</div>

<p>ก็เหมือนกับตัวแปรในจาวาสคริปต์ทุกตัว ชื่ออ็อบเจกต์ (ตัวแปรตัวหนึ่ง) และชื่อคุณสมบัติ แตกต่างกันตามตัวอักษรใหญ่เล็ก โดยคุณสามารถกำหนดคุณสมบัติด้วยการระบุค่าให้มัน เช่นในตัวอย่าง, เป็นการสร้างอ็อบเจกต์ <code>myCar</code> ที่มีคุณสมบัติชื่อ <code>make</code>, <code>model</code>, และ <code>year</code> ดังนี้:</p>

<pre class="brush: js">var myCar = new Object();
myCar.make = "Ford";
myCar.model = "Mustang";
myCar.year = 1969;
</pre>

<p>คุณสมบัติของอ็อบเจกต์ในจาวาสคริปต์ยังสามารถเข้าถึงได้ด้วยการใช้รูปแบบวงเล็บเหลี่ยม ในบางครั้งเราเรียกอ็อบเจกต์ว่า อาร์เรย์แบบอิงชื่อ (a<em>ssociative array</em>) เนื่องจากแต่ละคุณสมบัติจะมีค่าสตริงที่สามารถใช้เพื่อเข้าถึงตัวมันได้ ดังนั้น คุณจึงสามารถเข้าถึงคุณสมบัติต่างๆของอ็อบเจกต์ <code>myCar</code> ได้ตามตัวอย่างต่อไปนี้:</p>

<pre class="brush: js">myCar["make"] = "Ford";
myCar["model"] = "Mustang";
myCar["year"] = 1969;
</pre>

<p>ชื่อคุณสมบัติของอ็อบเจกต์ สามารถเป็นสตริงอะไรก็ได้ในจาวาสคริปต์ หรืออะไรก็ได้ที่แปลงเป็นสตริงได้ รวมถึงสตริงว่าง อย่างไรก็ตาม, ชื่อคุณสมบัติใดที่ไม่ถูกตามหลักการตั้งชื่อตัวแปรในจาวาสคริปต์ (เช่น ชื่อที่มีเครื่องหมายวรรค, ขีดฆ่า, หรือขึ้นต้นด้วยตัวเลข) สามารถอ้างถึงได้ด้วยเครื่องหมายวงเล็บเหลี่ยมเท่านั้น ซึ่งวิธีการนี้จะมีประโยชน์มากเมื่อชื่อคุณสมบัติเปลี่ยนแปลงได้ (เมื่อไม่สามารถหาชื่อคุณสมบัติได้จนกว่าโปรแกรมจะทำงาน) ดังตัวอย่างต่อไปนี้:</p>

<pre class="brush: js">var myObj = new Object(),
    str = "myString",
    rand = Math.random(),
    obj = new Object();

myObj.type              = "Dot syntax";
myObj["date created"]   = "String with space";
myObj[str]              = "String value";
myObj[rand]             = "Random Number";
myObj[obj]              = "Object";
myObj[""]               = "Even an empty string";

console.log(myObj);
</pre>

<p>คุณสามารถเข้าถึงคุณสมบัติโดยใช้ค่าสตริงในตัวแปรได้ ดังนี้:</p>

<div style="width: auto;">
<pre class="brush: js">var propertyName = "make";
myCar[propertyName] = "Ford";

propertyName = "model";
myCar[propertyName] = "Mustang";
</pre>
</div>

<p>คุณสามารถใช้รูปแบบวงเล็บเหลี่ยมกับคำสั่ง <a class="internal" href="/en-US/docs/JavaScript/Guide/Statements#for...in_Statement" title="en-US/docs/JavaScript/Guide/Statements#for...in Statement">for...in</a> เพื่ออ่านค่าคุณสมบัติทุกตัวของอ็อบเจกต์ โดยฟังก์ชันต่อไปนี้จะแสดงค่าคุณสมบัติของอ็อบเจกต์เมื่อคุณส่งตัวแปรเข้าฟังก์ชันเป็นอ็อบเจกต์และชื่ออ็อบเจกต์:</p>

<pre class="brush: js">function showProps(obj, objName) {
  var result = "";
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
        result += objName + "." + i + " = " + obj[i] + "\n";
    }
  }
  return result;
}
</pre>

<p>ดังนั้น, ถ้าเรียกฟังก์ชัน <code>showProps(myCar, "myCar")</code> จะได้ค่าดังนี้:</p>

<pre>myCar.make = Ford
myCar.model = Mustang
myCar.year = 1969</pre>

<h2 id="ทุกสิ่งคืออ็อบเจกต์">ทุกสิ่งคืออ็อบเจกต์</h2>

<p>ในจาวาสคริปต์ เกือบทุกสิ่งเป็นอ็อบเจกต์ โดยค่าข้อมูลพื้นฐานทั้งหมดยกเว้น null และ undefined ถือเป็นอ็อบเจกต์ ซึ่งสามารถกำหนดคุณสมบัติ (บางประเภทไม่สามารถกำหนดได้ถาวร) และมีคุณลักษณะทั้งหมดของอ็อบเจกต์</p>

<h2 id="การแจกแจงคุณสมบัติของอ๊อบเจกต์">การแจกแจงคุณสมบัติของอ๊อบเจกต์</h2>

<p>เริ่มจาก <a href="/en-US/docs/JavaScript/ECMAScript_5_support_in_Mozilla" title="en-US/docs/JavaScript/ECMAScript 5 support in Mozilla">ECMAScript 5</a>, มีสามวิธีที่จะแสดง/สำรวจ คุณสมบัติต่างๆของอ๊อบเจกต์:</p>

<ul>
 <li>ลูป <a href="/en-US/docs/JavaScript/Reference/Statements/for...in" title="en-US/docs/JavaScript/Reference/Statements/for...in">for...in</a><br>
  วิธีนี้จะได้คุณสมบัติที่แจกแจงได้ทั้งหมดของอ็อบเจกต์ รวมทั้งจากโปรโตไทป์ด้วย</li>
 <li>ใช้เมธอด <a href="/en-US/docs/JavaScript/Reference/Global_Objects/Object/keys" title="en-US/docs/JavaScript/Reference/Global Objects/Object/keys">Object.keys(o)</a><br>
  วิธีนี้จะคืนอาร์เรย์ของชื่อคุณสมบัติที่แจกแจงได้ทั้งหมด ของอ็อบเจกต์ o เอง (ไม่รวมที่มาจากโปรโตไทป์) </li>
 <li>ใช้เมธอด <a href="/en-US/docs/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" title="en-US/docs/JavaScript/Reference/Global Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames(o)</a><br>
  วิธีนี้จะคืนอาร์เรย์ของชื่อคุณสมบัติทั้งหมดของอ็อบเจกต์ o เอง (ทั้งแจกแจงได้และไม่ได้)</li>
</ul>

<p>ใน ECMAScript 5, ยังไม่มีวิธีเฉพาะที่จะแสดงคุณสมบัติทั้งหมดของอ็อบเจกต์ แต่ก็สามารถทำได้ด้วยฟังก์ชันต่อไปนี้:</p>

<pre class="brush: js">function listAllProperties(o){     
	var objectToInspect;     
	var result = [];
	
	for(objectToInspect = o; objectToInspect !== null; objectToInspect = Object.getPrototypeOf(objectToInspect)){  
		result = result.concat(Object.getOwnPropertyNames(objectToInspect));  
	}
	
	return result; 
}
</pre>

<p>วิธีการนี้จะช่วยให้เห็นคุณสมบัติที่ซ่อนอยู่ได้ (คุณสมบัติบางตัวในโปรโตไทป์ที่ไม่สามารถเข้าถึงได้จากอ็อบเจกต์ ก็เพราะมีการประกาศคุณสมบัติขื่อเดียวกันนี้ อยู่ในลำดับโปรโตไทป์ก่อนหน้า) โดยถ้าต้องการเฉพาะคุณสมบัติที่สามารถเข้าถึงได้ ก็แค่ลบรายการที่ซ้ำออกจากอาร์เรย์เท่านั้น</p>

<h2 id="การสร้างอ็อบเจกต์ใหม่">การสร้างอ็อบเจกต์ใหม่</h2>

<p>จาวาสคริปต์มีอ็อบเจกต์พื้นฐานให้ใช้หลายแบบ และคุณสามารถสร้างอ็อบเจกต์เองเพิ่มได้ ในจาวาสคริปต์ 1.2 หรือใหม่กว่า, คุณสามารถสร้างอ็อบเจกต์ด้วยตัวสร้างอ็อบเจกต์ หรืออีกวิธีคือ สร้างฟังก์ชัน constructor และสร้างอ็อบเจกต์ใหม่ด้วยฟังก์ชันนี้กับตัวดำเนินการ <code>new</code></p>

<h3 id="การใช้ตัวสร้างอ็อบเจกต์_2"><a name="การใช้ตัวสร้างอ็อบเจกต์">การใช้ตัวสร้างอ็อบเจกต์</a></h3>

<p>นอกจากการสร้างอ็อบเจกต์ด้วยฟังก์ชัน constructor แล้ว, คุณสามารถสร้างอ็อบเจกต์ด้วยตัวสร้างอ็อบเจกต์ ซึ่งการใช้ตัวสร้างอ็อบเจกต์นี้บางครั้งเรียกว่า การสร้างอ็อบเจกต์แบบใช้ค่าข้อมูล โดยตัวสร้างอ็อบเจกต์ (Object initializer) จะสอดคล้องกับความหมายที่ใช้ในภาษา C++</p>

<p>รูปแบบการสร้างอ็อบเจกต์ด้วยตัวสร้างอ็อบเจกต์ เป็นดังนี้:</p>

<pre class="brush: js">var obj = { property_1:   value_1,   // property_# may be an identifier...
            2:            value_2,   // or a number...
            // ...,
            "property n": value_n }; // or a string
</pre>

<p>เมื่อ <code>obj</code> คือชื่อของอ็อบเจกต์ใหม่ แต่ละ <code>property_i</code> คือชื่อตัวแปร (เป็นได้ทั้งชื่อ, ตัวเลข, หรือค่าข้อมูลสตริง) และแต่ละ <code>value_i</code> คือนืพจน์ที่กำหนดค่าให้ <code>property_i</code> ทั้งนี้การกำหนด <code>obj</code> และการกำหนดค่า <code>(=)</code> เป็นแค่ทางเลือกเท่านั้น ซึ่งถ้าคุณไม่จำเป็นต้องอ้างถึงอ็อบเจกต์นี้ที่ไหนอีก คุณก็ไม่จำเป็นต้องกำหนดต่าให้ตัวแปร <code>obj</code> (จำไว้ว่า คุณอาจจำเป็นต้องห่อค่าข้อมูลอ็อบเจกต์ในวงเล็บ ถ้าอ็อบเจกต์อยู่ตรงตำแหน่งที่ควรจะเป็นคำสั่ง เพราะจะทำให้จาวาสคริปต์ไม่สับสนระหว่างค่าข้อมูลกับบล็อกคำสั่ง)</p>

<p>ถ้าอ็อบเจกต์หนึ่งถูกสร้างขึ้นด้วยตัวสร้างอ็อบเจกต์ในขั้นนอกสุดของสคริปต์, จาวาสคริปต์จะกำหนดค่าให้อ็อบเจกต์นี้ใหม่ ทุกครั้งที่มีการประมวลผลนิพจน์ที่มีตัวสร้างอ็อบเจกต์นี้อยู่ ขยายความได้ว่า, ตัวสร้างค่า (initializer) ที่ถูกใช้ในฟังก์ชันใด จะถูกสร้างขึ้นใหม่ทุกครั้งที่ฟังก์ชันนั้นถูกเรียกใช้งาน</p>

<p>คำสั่งต่อไปนี้สร้างอ็อบเจกต์ และกำหนดค่าให้ตัวแปร <code>x</code> ถ้านิพจน์ <code>cond</code> เป็นจริงเท่านั้น:</p>

<pre class="brush: js">if (cond) var x = {hi: "there"};
</pre>

<p>ตัวอย่างต่อไปนี้จะสร้าง <code>myHonda</code> ที่มีสามคุณสมบัติ ซึ่งคุณสมบัติ <code>engine</code> ก็เป็นอ็อบเจกต์และมีคุณสมบัติของตัวเองด้วย</p>

<pre class="brush: js">var myHonda = {color: "red", wheels: 4, engine: {cylinders: 4, size: 2.2}};
</pre>

<p>คุณสามารถใช้ตัวสร้างอ็อบเจกต์กับการสร้างอาร์เรย์ได้ ดูเพิ่มเติมที่ <a href="/th/docs/Web/JavaScript/Guide/Values,_variables,_and_literals#ตัวข้อมูล_(Literals)">array literals</a></p>

<p>ในจาวาสคริปต์ 1.1 หรือก่อนหน้านั้น, คุณไม่สามารถใช้ตัวสร้างอ็อบเจกต์ชนิดต่างๆได้ คุณสามารถสร้างอ็อบเจกต์ได้จากฟังก์ชัน constructor หรือใช้ฟังก์ชันที่มากับอ็อบเจกต์บางชนิดเท่านั้น ดูเพิ่มเติมที่ {{ anch("Using a constructor function") }}</p>

<h3 id="การใช้ฟังก์ชัน_constructor">การใช้ฟังก์ชัน constructor</h3>

<p>ทางเลือกอีกวิธีคือ คุณสามารถสร้างอ็อบเจกต์ด้วยสองขั้นตอนต่อไปนี้:</p>

<ol>
 <li>สร้างชนิดของอ็อบเจกต์ขึ้นมาใหม่โดยการเขียนฟังก์ชัน constructor โดยมีข้อกำหนดที่เคร่งครัดแต่มีเหตุผลคือ ควรใช้อักษรตัวใหญ่นำหน้าชื่อ</li>
 <li>สร้างตัวแปรอ็อบเจกต์ด้วยคำสั่ง <code>new</code></li>
</ol>

<p>การสร้างชนิดอ็อบเจกต์ทำได้โดย สร้างฟังก์ชันสำหรับชนิดอ็อบเจกต์ใหม่ที่ระบุ ชื่อ, คุณสมบัติ, และเมธอด ตัวอย่างเช่น, สมมุติว่าคุณค้องการสร้างชนิดอ็อบเจกต์ของรถยนต์ และต้องการเรียกอ็อบเจกต์ชนิดนี้ว่า <code>Car</code> ที่มีคุณสมบัติ make, model และ year คุณก็ควรเขียนโค้ดตามฟังก์ชันต่อไปนี้:</p>

<pre class="brush: js">function Car(make, model, year) {
  this.make = make;
  this.model = model;
  this.year = year;
}
</pre>

<p>ให้สังเกตุการใช้ <code>this</code> เพื่อกำหนดค่าให้คุณสมบัติของอ็อบเจกต์ จากค่าที่ส่งเข้าฟังก์ชัน</p>

<p>จากนี้ไป คุณก็สามารถสร้างอ็อบเจกต์ชื่อ <code>mycar</code> ได้ดังนี้:</p>

<pre class="brush: js">var mycar = new Car("Eagle", "Talon TSi", 1993);
</pre>

<p>คำสั่งนี้สร้าง <code>mycar</code> และกำหนดค่าให้คุณสมบัติต่างๆ ดังนั้นค่าของ <code>mycar.make</code> ก็คือสตริง <code>"Eagle"</code>, <code>mycar.year</code> คือเลข <code>1993</code> และอื่นๆ</p>

<p>คุณสามารถสร้างอ็อบเจกต์ <code>Car</code> ได้หลายตัว โดยใช้คำสั่ง <code>new</code> ดังตัวอย่าง,</p>

<pre class="brush: js">var kenscar = new Car("Nissan", "300ZX", 1992);
var vpgscar = new Car("Mazda", "Miata", 1990);
</pre>

<p>อ็อบเจกต์สามารถมีคุณสมบัติที่เป็นอ็อบเจกต์อีกตัวได้ ตัวอย่างเช่น, คุณสร้างชนิดอ็อบเจกต์ใหม่ชื่อ <code>Person</code> ดังนี้:</p>

<pre class="brush: js">function Person(name, age, sex) {
  this.name = name;
  this.age = age;
  this.sex = sex;
}
</pre>

<p>และสร้างอ็อบเจกต์ชนิด Person ขึ้นใหม่สองตัวดังนี้:</p>

<pre class="brush: js">var rand = new Person("Rand McKinnon", 33, "M");
var ken = new Person("Ken Jones", 39, "M");
</pre>

<p>จากนั้น, คุณสามารถแก้ไขชนิดอ็อบเจกต์ <code>Car</code> โดยเพิ่ม คุณสมบัติ <code>owner</code> ซึ่งรับอ็อบเจกต์ชนิด Person ได้ดังนี้:</p>

<pre class="brush: js">function Car(make, model, year, owner) {
  this.make = make;
  this.model = model;
  this.year = year;
  this.owner = owner;
}
</pre>

<p>และนำมาสร้างอ็อบเจกต์ใหม่ โดยใช้โค้ดดังนี้:</p>

<pre class="brush: js">var car1 = new Car("Eagle", "Talon TSi", 1993, rand);
var car2 = new Car("Nissan", "300ZX", 1992, ken);
</pre>

<p>ให้สังเกตุว่า แทนที่เราจะส่งค่าข้อมูลสตริง หรือตัวเลข เมื่อทำการสร้างอ็อบเจกต์ ประโยคคำสั่งด้านบนได้ส่งค่าอ็อบเจกต์ <code>rand</code> และ <code>ken</code> ที่ตัวแปร <code>owner</code> โดยถ้าคุณค้องการหาชื่อ <code>owner</code> ของ <code>car2</code> คุณสามารถใช้คุณสมบัติต่อไปนี้ได้:</p>

<pre class="brush: js">car2.owner.name
</pre>

<p>จำไว้ว่า คุณสามารถเพิ่มคุณสมบัติให้กับอ็อบเจกต์ที่สร้างขึ้นก่อนหน้าได้ตลอดเวลา เช่นตัวอย่างคำสั่งต่อไปนี้</p>

<pre class="brush: js">car1.color = "black";
</pre>

<p>โดยเพิ่มคุณสมบัติ <code>color</code> ให้ <code>car1</code> และกำหนดค่าเป็น <code>"black"</code> อย่างไรก็ตาม, วิธีนี้ไม่ส่งผลกับอ็อบเจกต์ <code>Car</code> ตัวอื่นๆ ซึ่งวิธีที่จะเพิ่มคุณสมบัติใหม่ให้อ็อบเจกต์ที่มีชนิดเดียวกันทั้งหมดคือ คุณต้องเพิ่มคุณสมบัติใหม่นี้ในตอนประกาศชนิดอ็อบเจกต์ <code>Car</code> ในฟังก์ชัน constructor เท่านั้น</p>

<h3 id="การใช้เมธอด_Object.create">การใช้เมธอด Object.create</h3>

<p>อ็อบเจกต์ยังสามารถสร้างได้ด้วยการใช้เมธอด <code>Object.create</code> ซึ่งมีประโยชน์มาก เพราะให้คุณเลือกโปรโตไทป์ของอ็อบเจกต์ที่คุณต้องการสร้างได้ โดยไม่ต้องสร้างฟังก์ชัน constructor ดูรายละเอียดเพิ่มของเมธอดและการใช้งานได้ที่ {{ jsxref("Object.create()") }}</p>

<h3 id="การสืบทอด">การสืบทอด</h3>

<p>ทุกอ็อบเจกต์ในจาวาสคริปต์ สืบทอดมาจากอ็อบเจกต์อย่างน้อยหนึ่งตัว อ็อบเจกต์ที่ถูกสืบทอดมารู้จักกันในชื่อ โปรโตไทป์ และคุณสมบัติที่สืบทอดมาจะอยู่ในอ็อบเจกต์  <code>prototype</code> ของตัว construtor</p>

<h3 id="ดัชนีคุณสมบัติของอ็อบเจกต์">ดัชนีคุณสมบัติของอ็อบเจกต์</h3>

<p>ในจาวาสคริปต์ 1.0, คุณสามารถอ้างถึงคุณสมบัติของอ็อบเจกต์ ด้วยชื่อคุณสมบัติ หรือด้วยเลขดัชนี แต่ในจาวาสคริปต์ 1.1 และหลังจากนั้น, ถ้าในตอนแรกคุณสร้างคุณสมบัติด้วยชื่อ คุณต้องอ้างถึงโดยใช้ชื่อเท่านั้น และถ้าในตอนแรกคุณสร้างคุณสมบัติด้วยเลขดัชนี คุณก็ต้องอ้างถึงโดยใช้ดัชนีเท่านั้น</p>

<p>ข้อจำกัดนี้ใช้เมื่อคุณสร้างอ็อบเจกต์และคุณสมบัติด้วยฟังก์ชัน constructor (ที่เราได้ทำมากับชนิดอ็อบเจกต์ <code>Car</code>) และเมื่อคุณสร้างคุณสมบัติแต่ละตัวโดยตรง (เช่น <code>myCar.color = "red"</code>) ถ้าในตอนแรกคุณสร้างคุณสมบัติอ็อบเจกต์ด้วยเลขดัชนี เช่น <code>myCar[5] = "25 mpg"</code> คุณก็สามารถอ้างถึงคุณสมบัตินี้ได้ด้วย <code>myCar[5]</code> เท่านั้น</p>

<p>ข้อยกเว้นของกฏเกณฑ์นี้คือ อ็อบเจกต์ที่ได้จาก HTML เช่น อาร์เรย์ของฟอร์ม ซึ่งคุณสามารถอ้างถึงอ็อบเจกต์ในอาร์เรย์นี้ด้วยเลขดัชนี (ตามตำแหน่งที่ปรากฏในเอกสาร) หรือด้วยชื่อ (ถ้ามี) โดยตัวอย่าง เช่น ถ้า <code>&lt;FORM&gt;</code> ตัวที่สองในเอกสาร HTML มีค่า <code>NAME</code> เป็น <code>"myForm"</code>, คุณสามารถอ้างถึงฟอร์มนี้ด้วย <code>document.forms[1]</code> หรือ <code>document.forms["myForm"]</code> หรือ <code>document.myForm</code></p>

<h3 id="การสร้างคุณสมบัติให้กับชนิดอ็อบเจกต์">การสร้างคุณสมบัติให้กับชนิดอ็อบเจกต์</h3>

<p>คุณสามารถเพิ่มคุณสมบัติใหม่ให้กับชนิดอ็อบเจกต์ที่ได้สร้างไว้แล้วโดยใช้คุณสมบัติ <code>prototype</code> ซึ่งเป็นการสร้างคุณสมบัติให้ทุกอ็อบเจกต์ที่มีชนิดเดียวกัน แทนที่จะสร้างให้แค่อ็อบเจกต์ตัวเดียว โค้ดต่อไปนี้ได้เพิ่มคุณสมบัติ <code>color</code> ให้กับทุกอ็อบเจกต์ที่เป็น <code>Car</code> และกำหนดค่าคุณสมบัติ <code>color</code> ของ <code>car1</code></p>

<pre class="brush: js">Car.prototype.color = null;
car1.color = "black";
</pre>

<p>ดูข้อมูลเพิ่มเติมเรื่อง <a href="/en-US/docs/JavaScript/Reference/Global_Objects/Function/prototype" title="en-US/docs/JavaScript/Reference/Global Objects/Function/prototype"><code>prototype</code> property</a> ของอ็อบเจกต์ <code>Function</code> ได้ที่ <a href="/en-US/docs/JavaScript/Reference" title="en-US/docs/JavaScript/Reference">JavaScript Reference</a></p>

<h3 id="การสร้างเมธอด">การสร้างเมธอด</h3>

<p>เมธอด คือฟังก์ชันที่ผูกเข้ากับอ็อบเจกต์ หรือพูดง่ายๆเมธอดก็คือ คุณสมบัติหนึ่งของอ็อบเจกต์ที่เป็นฟังก์ชัน ซึ่งสร้างได้ด้วยวิธีการสร้างฟังก์ชันทั่วไป ยกเวันว่าต้องกำหนดให้เป็นคุณสมบัติหนึ่งของอ็อบเจกต์ ดังตัวอย่าง:</p>

<pre class="brush: js">objectName.methodname = function_name;

var myObj = {
  myMethod: function(params) {
    // ...do something
  }
};
</pre>

<p>เมื่อ <code>objectName</code> คืออ็อบเจกต์ที่มีอยู่แล้ว, <code>methodname</code> คือชื่อที่ตั้งให้เมธอด, และ <code>function_name</code> คือชื่อของฟังก์ชัน</p>

<p>คุณสามารถเรียกใช้เมธอดในอ็อบเจกต์ได้ดังนี้:</p>

<pre class="brush: js">object.methodname(params);
</pre>

<p>คุณสามารถสร้างเมธอดให้กับอ็อบเจกต์ชนิดใดก็ได้ โดยสร้างไว้ในฟังก์ชัน constructor ตัวอย่างเช่น, คุณสามารถสร้างฟังก์ชันที่จะปรับรูปแบบและแสดงค่าคุณสมบัติของอ็อบเจกต์ <code>Car</code> ได้ดังนี้:</p>

<pre class="brush: js">function displayCar() {
  var result = "A Beautiful " + this.year + " " + this.make
    + " " + this.model;
  pretty_print(result);
}
</pre>

<p>เมื่อ <code>pretty_print</code> คือฟังก์ชันที่แสดงเส้นบรรทัดและข้อความ ให้สังเกตุการใช้ <code>this</code> เพื่ออ้างถึงตัวอ็อบเจกต์ที่เป็นเจ้าของฟังก์ชันนี้</p>

<p>คุณสามารถทำให้ฟังก์ชันนี้เป็นเมธอดของ <code>Car</code> โดยเพิ่มคำสั่งนี้:</p>

<pre class="brush: js">this.displayCar = displayCar;
</pre>

<p>เข้าไปในฟังก์ชัน constructor โดยจะได้โค้ดที่สมบูรณ์แบบนี้</p>

<pre class="brush: js">function Car(make, model, year, owner) {
  this.make = make;
  this.model = model;
  this.year = year;
  this.owner = owner;
  this.displayCar = displayCar;
}
</pre>

<p>โดยคุณสามารถเรียกใช้เมธอด <code>displayCar</code> ได้จากทุกอ็อบเจกต์ <code>Car</code> ดังนี้:</p>

<pre class="brush: js">car1.displayCar();
car2.displayCar();
</pre>

<p>ซึ่งจะได้ผลดังแสดงในรูปต่อไปนี้</p>

<p><img alt="Image:obja.gif" class="internal" src="/@api/deki/files/786/=Obja.gif"></p>

<p><small><strong>รูป 7.1: แสดงผลจากเมธอด</strong></small></p>

<h3 id="การใช้_this_เพื่ออ้างถึงอ็อบเจ็กต์">การใช้ <code>this</code> เพื่ออ้างถึงอ็อบเจ็กต์</h3>

<p>จาวาสคริปต์มีคำพิเศษคำหนึ่ง คือ <code>this</code>, ซึ่งคุณสามารถใช้ในเมธอด เพื่ออ้างถึงอ็อบเจกต์ปัจจุบัน ตัวอย่างเช่น, สมมุติว่าคุณมีฟังก์ชันหนึ่งชื่อ <code>validate</code> ใช้ตรวจสอบคุณสมบัติ <code>value</code> ของอ็อบเจกต์ โดยรับค่าอ็อบเจกต์, ค่าสูง, และค่าต่ำ ดังนี้:</p>

<pre class="brush: js">function validate(obj, lowval, hival) {
  if ((obj.value &lt; lowval) || (obj.value &gt; hival))
    alert("Invalid Value!");
}
</pre>

<p>และคุณเรียกใช้ <code>validate</code> ที่เหตุการณ์ <code>onchange</code> ของแต่ละฟิลด์ในฟอร์ม โดยส่งค่า this แทนฟิลด์ ตามตัวอย่างต่อไปนี้:</p>

<pre class="brush: html">&lt;input type="text" name="age" size="3"
  onChange="validate(this, 18, 99)"&gt;
</pre>

<p>โดยทั่วไปแล้ว, <code>this</code> อ้างถึงอ็อบเจกต์ที่เป็นผู้เรียกใช้เมธอด</p>

<p>เมื่อใช้ร่วมกับคุณสมบัติ <code>form</code>, <code>this</code> สามารถใช้อ้างถึงอ็อบเจกต์แม่ที่เป็นฟอร์มได้ ในตัวอย่างต่อไป, ฟอร์ม <code>myForm</code> ประกอบด้วยอ็อบเจกต์ <code>Text</code> และปุ่มกด เมื่อผู้ใช้คลิ๊กที่ปุ่ม, ค่าของอ็อบเจกต์ Text จะถูกกำหนดให้เป็นชื่อฟอร์ม โดยเหตุการณ์ <code>onclick</code> จะใช้ <code>this.form</code> เพื่ออ้างถึงฟอร์ม <code>myForm</code></p>

<pre class="brush: html">&lt;form name="myForm"&gt;
&lt;p&gt;&lt;label&gt;Form name:&lt;input type="text" name="text1" value="Beluga"&gt;&lt;/label&gt;
&lt;p&gt;&lt;input name="button1" type="button" value="Show Form Name"
     onclick="this.form.text1.value = this.form.name"&gt;
&lt;/p&gt;
&lt;/form&gt;</pre>

<h3 id="การสร้าง_getter_และ_setter">การสร้าง getter และ setter</h3>

<p><em>getter</em> คือเมธอดที่คืนค่าของคุณสมบัติ ส่วน <em>setter</em> คือเมธอดที่กำหนดค่าให้คุณสมบัติ โดยคุณสามารถสร้าง getter และ setter ให้กับอ็อบเจกต์พื้นฐานใดๆ หรืออ็อบเจกต์ที่สร้างขึ้นเองที่รองรับการเพิ่มคุณสมบัติใหม่ ซึ่งรูปแบบการสร้าง getter และ setter จะใช้รูปแบบเหมือนการสร้างค่าข้อมูลอ็อบเจกต์</p>

<p>ตั้งแต่จาวาสคริปต์ 1.8.1, setter ไม่ถูกเรียกใช้อีก เมื่อมีการกำหนดค่าคุณสมบัติในตัวสร้างอ็อบเจกต์ หรือตัวสร้างอาร์เรย์</p>

<p>ในการใช้งาน <a href="/en-US/docs/SpiderMonkey/Introduction_to_the_JavaScript_shell" title="en-US/docs/SpiderMonkey/Introduction to the JavaScript shell">JS shell</a> ต่อไปนี้ แสดงให้เห็นว่า getter และ setter ทำงานได้อย่างไรกับอ็อบเจกต์ที่สร้างขึ้นเอง ซึ่ง JS shell ก็คือแอปพลิเคชันที่ยอมให้นักพัฒนาทดสอบโค้ดจาวาสคริปต์ในแบบ batch หรือแบบ interactive ได้ โดยใน Firefox คุณสามารถเรียกใช้ JS shell ด้วยการกด Ctrl+Shift+K</p>

<pre class="brush: js">js&gt; var o = {a: 7, get b() {return this.a + 1;}, set c(x) {this.a = x / 2}};
[object Object]
js&gt; o.a;
7
js&gt; o.b;
8
js&gt; o.c = 50;
js&gt; o.a;
25
</pre>

<p>โดยคุณสมบัติของ <code>o</code> คือ:</p>

<ul>
 <li><code>o.a</code> — ตัวเลข</li>
 <li><code>o.b</code> — getter ที่คืนค่า <code>o.a</code> บวก 1</li>
 <li><code>o.c</code> — setter ที่กำหนดค่าให้ <code>o.a</code> เป็นครึ่งหนึ่งของค่าที่ให้กับ <code>o.c </code></li>
</ul>

<p>กรุณาจำไว้ว่า ชื่อของฟังก์ชัน getter และ setter ที่ถูกสร้างในค่าข้อมูลอ็อบเจกต์ด้วย "[gs]et <em>property</em>()" (ไม่เหมือนกับ <code>__define[GS]etter__)</code> ไม่ใช่ชื่อของ getter เองแม้ว่ารูปแบบ <code>[gs]et <em>propertyName</em>(){ }</code> อาจทำให้เข้าใจผิดไปได้ โดยวิธีการตั้งชื่อฟังก์ชันของ getter หรือ setter ที่ใช้รูปแบบ "[gs]et <em>property</em>()" นั้น ให้ใช้คำสั่ง <code><a href="/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty" title="en-US/docs/Core JavaScript 1.5 Reference/Global
Objects/Object/defineProperty">Object.defineProperty</a></code> (หรือใช้ <code><a href="/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineGetter" title="en-US/docs/Core JavaScript 1.5 Reference/Global
Objects/Object/defineGetter">Object.prototype.__defineGetter__</a></code> ในแบบดั้งเดิม) กับฟังก์ชันที่ตั้งชื่อไว้แล้ว</p>

<p>ใน JS shell ต่อไปนี้ แสดงให้เห็นวิธีการใช้ getter และ setter ชยายโปรโตไทป์ของ <code>Date</code> โดยเพิ่มคุณสมบัติ <code>year</code> เข้าไปกับทุกอ็อบเจกต์ที่สร้างด้วยคลาส <code>Date</code> พื้นฐาน โดยนำเมธอด <code>getFullYear</code> และ <code>setFullYear</code> ที่มีอยู่แล้วในคลาส <code>Date</code> มาใช้ใน getter และ setter ของคุณสมบัติ <code>year</code></p>

<p>โดยคำสั่งต่อไปนี้ จะสร้าง getter และ setter ของคุณสมบัติ <code>year</code>:</p>

<pre class="brush: js">js&gt; var d = Date.prototype;
js&gt; Object.defineProperty(d, "year", {
    get: function() {return this.getFullYear() },
    set: function(y) { this.setFullYear(y) }
});
</pre>

<p>และคำสั่งต่อไปนี้ เรียกใช้ getter และ setter ในอ็อบเจกต์ <code>Date</code>:</p>

<pre class="brush: js">js&gt; var now = new Date;
js&gt; print(now.year);
2000
js&gt; now.year = 2001;
987617605170
js&gt; print(now);
Wed Apr 18 11:13:25 GMT-0700 (Pacific Daylight Time) 2001
</pre>

<h4 id="รูปแบบที่ไม่ใช้แล้ว">รูปแบบที่ไม่ใช้แล้ว</h4>

<p>ในอดีต, จาวาสคริปต์รองรับรูปแบบการสร้าง getter และ setter หลายแบบ ซึ่งไม่มีแบบไหนเลยที่รองรับโดยตัวแปลภาษาจาวาสคริปต์ตัวอื่น และการสนับสนุนก็ถูกยกเลิกในเวอร์ชันใหม่ๆของจาวาสคริปต์ ดูรายละเอียดเพิ่มเติมเกี่ยวกับรูปแบบที่ถูกยกเลิกและวิธีการปรับปรุงโค้ดเพื่อรองรับการยกเลิกนี้ ที่ <a class="external" href="http://whereswalden.com/2010/04/16/more-spidermonkey-changes-ancient-esoteric-very-rarely-used-syntax-for-creating-getters-and-setters-is-being-removed/" title="http://whereswalden.com/2010/04/16/more-spidermonkey-changes-ancient-esoteric-very-rarely-used-syntax-for-creating-getters-and-setters-is-being-removed/">this dissection of the removed syntaxes</a></p>

<h4 id="สรุป">สรุป</h4>

<p>ตามหลัก, getter และ setter สามารถเป็นได้ทั้ง</p>

<ul>
 <li>การสร้างด้วย <a href="#การใช้ตัวสร้างอ็อบเจกต์">object initializers</a>, หรือ</li>
 <li>เพิ่มเติมทีหลังไปที่อ็อบเจกต์ตอนไหนก็ได้ ด้วยเมธอดเพิ่ม getter หรือ setter</li>
</ul>

<p>เมื่อสร้าง getter และ setter ด้วย <a href="#การใช้ตัวสร้างอ็อบเจกต์">object initializers</a> สิ่งที่คุณต้องทำคือเพิ่มคำหน้าเมธอด getter ด้วย <code>get</code> และหน้า setter ด้วย <code>set</code> และที่แน่นอนคือ เมธอด getter ต้องไม่รับค่าตัวแปรเข้า ในขณะที่เมธอด setter รับค่าตัวแปรเข้าตัวเดียว (ค่าใหม่ที่ใช้) ตัวอย่างเช่น:</p>

<pre class="brush: js">var o = {
  a: 7,
  <strong>get</strong> b() { return this.a + 1; },
  <strong>set</strong> c(x) { this.a = x / 2; }
};
</pre>

<p>ฟังก์ชัน getter และ setter สามารถเพิ่มไปที่อ็อบเจกต์ตอนไหนก็ได้หลังจากที่สร้างแล้วโดยใช้เมธอด <code>Object.defineProperties</code> ซึ่งตัวแปรรับเข้าตัวแรกของเมธอดคือ อ็อบเจกต์ที่คุณต้องการสร้าง getter หรือ setter, ตัวแปรรับเข้าตัวที่สองคือ อ็อบเจกต์ที่มีชื่อคุณสมบัติเป็นชื่อของ getter หรือ setter, และค่าคุณสมบัติเป็นอ็อบเจกต์ที่เป็นฟังก์ชัน getter หรือ setter โดยตัวอย่างต่อไปนี้แสดงการสร้าง getter และ setter ชุดเดียวกับตัวอย่างที่แล้ว:</p>

<pre class="brush: js">var o = { a:0 }

Object.defineProperties(o, {
    "b": { get: function () { return this.a + 1; } },
    "c": { set: function (x) { this.a = x / 2; } }
});

o.c = 10 // Runs the setter, which assigns 10 / 2 (5) to the 'a' property
console.log(o.b) // Runs the getter, which yields a + 1 or 6
</pre>

<p>สองวิธีที่เลือกใช้ได้ขึ้นอยู่กับรูปแบบการเขียนโปรแกรมและงานที่ทำ ถ้าคุณใช้ตัวสร้างอ็อบเจกต์เพื่อสร้างโปรโตไทป์อยู่แล้ว คุณก็น่าจะเลือกใช้รูปแบบแรก ที่กระชับและเป็นธรรมชาติมากกว่า อย่างไรก็ตาม, ถ้าคุณจำเป็นต้องเพิ่ม getter และ setter ในภายหลัง เพราะคุณไม่ได้เขียนโปรโตไทป์ หรือแค่บางอ็อบเจกต์ รูปแบบที่สองก็เป็นทางเดียวที่เป็นไปได้ โดยรูปแบบที่สองนี้แสดงธรรมชาติที่แปรเปลี่ยนได้ของจาวาสคริปต์ได้เป็นอย่างดี แต่ก็ทำให้อ่านและเข้าใจโค้ดได้ยากเช่นกัน</p>

<div class="note">
<p>ก่อนหน้า Firefox 3.0, getter และ setter ไม่รองรับกับส่วนประกอบ DOM โดยในเวอร์ชันที่เก่ากว่าจะไม่แจ้งเตือนข้อผิดพลาด ถ้าต้องการให้เกิดข้อผิดพลาด, มีวิธีแก้ไขเฉพาะหน้าคือ ให้เปลี่ยนโปรโตไทป์ของ HTMLElement <code>(HTMLElement.prototype.__define[SG]etter__)และส่งข้อผิดพลาดออกมา</code></p>

<p>ด้วย Firefox 3.0, การสร้าง getter และ setter กับคุณสมบัติที่สร้างแล้วจะเกิดข้อผิดพลาดขึ้น โดยต้องลบคุณสมบัตินั้นก่อน ซึ่งทำไม่ได้ใน Firefox เวอร์ชันที่เก่ากว่า</p>
</div>

<h4 id="Defining_getters_and_setters_See_also" name="Defining_getters_and_setters_See_also">ดูเพิ่มเติมที่</h4>

<ul>
 <li><code><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty" title="en-US/docs/JavaScript/Reference/Global_Objects/Object/defineSetter">Object.defineProperty</a></code></li>
 <li><code><a href="/en-US/docs/JavaScript/Reference/Operators/get" title="en-US/docs/JavaScript/Reference/Operators/Special Operators/get Operator">get</a></code></li>
 <li><code><a href="/en-US/docs/JavaScript/Reference/Operators/set" title="en-US/docs/JavaScript/Reference/Operators/Special Operators/set Operator">set</a></code></li>
</ul>

<h3 id="การลบคุณสมบัติ">การลบคุณสมบัติ</h3>

<p>คุณสามารถลบคุณสมบัติที่ไม่มีการสืบทอดด้วยตัวดำเนินการ <code>delete</code> โดยโค้ดต่อไปนี้แสดงการลบคุณสมบัติ</p>

<pre class="brush: js">//Creates a new object, myobj, with two properties, a and b.
var myobj = new Object;
myobj.a = 5;
myobj.b = 12;

//Removes the a property, leaving myobj with only the b property.
delete myobj.a;
console.log ("a" in myobj) // yields "false"
</pre>

<p>คุณก็สามารถใช้ <code>delete</code> ลบตัวแปรส่วนกลางที่ไม่ได้ใช้คำสั่ง <code>var</code> ตอนประกาศใช้:</p>

<pre class="brush: js">g = 17;
delete g;
</pre>

<p>ดูข้อมูลเพิ่มเติมที่ <code><a href="/th/docs/Web/JavaScript/Reference/Operators/delete">delete</a></code></p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a class="external" href="http://es5.github.com/#x4.2" title="http://es5.github.com/#x4.2">ECMAScript 5.1 spec: Language Overview</a></li>
 <li><a class="external" href="http://dmitrysoshnikov.com/ecmascript/javascript-the-core" title="http://dmitrysoshnikov.com/ecmascript/javascript-the-core">JavaScript. The core. (Dmitry A. Soshnikov ECMA-262 article series)</a></li>
</ul>

<div>{{PreviousNext("Web/JavaScript/Guide/Regular_Expressions", "Web/JavaScript/Guide/Details_of_the_Object_Model")}}</div>