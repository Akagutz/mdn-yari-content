<div>{{AddonSidebar}}</div>

<p><span class="seoSummary">如果您有使用旧版技术（例如XUL/XPCOM或者Add-on SDK）开发的Firefox附加组件，请参阅这里的快速更新指南。</span>使用 <a class="external text" href="https://developer.mozilla.org/zh-CN/Add-ons/WebExtensions" rel="nofollow">WebExtensions</a> API 编写附加组件是 Firefox 的标准，随着2017年11月底 <a class="external text" href="https://wiki.mozilla.org/RapidRelease/Calendar" rel="nofollow">Firefox 57</a> 的发布，这将是 Firefox 支持的唯一类型的扩展。</p>

<h2 id="快速上手">快速上手</h2>

<ol>
 <li>了解您附加组件中必须更改的一些主要内容：
  <ul>
   <li>熟悉 <a href="/zh-CN/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">WebExtension 格式与结构</a>，并 <a href="/zh-CN/Add-ons/WebExtensions/Your_first_WebExtension">构建一个基础的示例</a>。</li>
   <li>如果您的附加组件基于 XUL 与 XPCOM，无论它是 <a href="/zh-CN/Add-ons/Overlay_Extensions">Overlay 扩展</a> 还是 <a href="/zh-CN/docs/Mozilla/Add-ons/Bootstrapped_extensions">自引导型扩展</a>，您可以参考 <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_XUL_XPCOM_extensions">WebExtension 与 XUL/XPCOM 扩展的比较</a>。</li>
   <li>如果您的附加组件基于 Add-on SDK，参见<a href="/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">与 Add-on SDK 的比较</a>。</li>
  </ul>
 </li>
 <li>重写您的附加组件代码。您可以在 <a href="https://wiki.mozilla.org/Add-ons/developer/communication">Mozilla Wiki</a> 查到更多资源与支持信息。从 Firefox 51 开始，您可以嵌入一个 WebExtension 到一个自举型扩展或 SDK 附加组件中，并可以借此无缝移植一个旧版的附加组件。参见<a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Embedded_WebExtensions">嵌入式 WebExtension</a>。</li>
 <li>在您准备好已更新的旧附加组件时，提交新的附加组件到到 AMO 作为旧附加组件的一个更新...稍等一下...你真的准备这样做？由于扩展权限，你不能将WebExtension恢复成传统的插件格式，所以彻底检查一下，因为这是一个不可逆的过程。当然，也可以参见下面的混合示例。如果你还没有准备好，你可以在你过去的老旧插件中嵌入WebExtension，它允许您测试您的扩展迁移，但如果出现紧急状况需要撤回。</li>
 <li>当你准备好向AMO提交你的WebExtension版的附加组件使，首先在新的WebExtension mainfest.json文件接口里以前版本的附加组件ID。你的扩展必须和之前版本的有相同的ID。从你的package.json中复制id的值到WebExtension的application section的id，这样您就可以向AMO提交您的插件更新了。</li>
</ol>

<div class="note">
<p>请注意，这是一个单向的转换，你<strong>不能</strong>将一个 WebExtension 反向更新为一个使用旧技术的附加组件。这就意味着，您必须完全确定已经准备好更新到 WebExtension，然后再提交更新的附加组件到 AMO。</p>
</div>

<h2 id="迁移路径">迁移路径</h2>

<h3 id="SDK_扩展">SDK 扩展</h3>

<p>这里是 <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">SDK API 与 WebExtensions 的格式对比</a>。如果你不知道如何使用你需要的 WebExtensions APIs 接口，看看下面学习如何请求的API以及如何实现它们。</p>

<h3 id="XUL_XPCOM扩展">XUL / XPCOM扩展</h3>

<p id="XULXPCOM_Extensions">这里是XUL / XPCOM和 WebExtensions 的格式对比。如果你不知道如何使用你需要的webextensions APIs接口，看看下面学习如何请求的API以及如何实现它们。</p>

<h3 id="部分迁移">部分迁移</h3>

<p>嵌入式webextension是两类扩展扩展相结合，通过将webextension包含到引导或SDK扩展。如果你有一个将数据写入到文件系统的传统附加组件，并且你打算把它移植到WebExtensions，嵌入式webextensions可以帮助你过渡。嵌入式WebExtensions可以将你的附加组件存储的数据转换为WebExtensions可用的格式。这是至关重要的，因为它允许您移植您的用户上，而不需要他们重新安装插件。<br>
 嵌入式WebExtensions是一个过渡工具，因为Firefox57将不再支持。它们不应该被用于不需要过渡到WebExtensions的附加组件。</p>

<h2 id="没有找到您所需的_WebExtensions_APIs">没有找到您所需的 WebExtensions APIs</h2>

<p><strong>为 Firefox 开发 WebExtension APIs </strong>- 如果你有 Mozilla 基础开发经验，想为 Firefox 直接开发 WebExtension API Firefox，这里有一个你可以开始贡献的 <a href="https://mzl.la/2dVs5Ys">核准的 APIs</a> 清单。</p>

<p><strong>体验新的WebExtension API</strong> - 如果你想要原生的和修补的WebExtensions APIs ，<a href="http://webextensions-experiments.readthedocs.io/en/latest/index.html">WebExtensions Experiments</a> 是为你准备的！</p>

<p><strong>请求新的WebExtension API</strong> - 如果你需要一个新的WeExtension API，请阅读<a class="external text external-icon" href="https://wiki.mozilla.org/WebExtensions/NewAPIs" rel="nofollow">这篇</a>。</p>

<h2 id="工具">工具</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Getting_started_with_web-ext">web-ext</a> is a command line tool designed to speed up various parts of the extension development process, making development faster and easier.</li>
 <li><a href="https://compatibility-lookup.services.mozilla.com/">Lookup tool</a> to check your add-on type and get porting resource recommendations</li>
 <li><a href="https://github.com/mi-g/weh">WebExtensions Helper</a> speeds up browser extension development by providing utilities for WebExtensions-based (Firefox, Chrome, Opera and Edge) extensions</li>
 <li><a href="https://github.com/yeoman/generator-chrome-extension">Chrome Extension generator </a>creates everything you need to get started with extension development. You can choose Browser UI(Browser,Page Action, Omnibox) type and select permissions you need.</li>
 <li><a href="http://extensionizr.com/">Extensionizr</a> is a wizard that helps you create a basic extension</li>
 <li><a href="https://github.com/mahemoff/chrome-boilerplate">Chrome Boilerplate</a> is boilerplate code for Chrome WebE<span class="col-11 mr-2 text-gray-dark">xtension.</span></li>
 <li><a href="https://github.com/sitepoint/ChromeSkel_a">Skeleton Chrome Extension</a> is an extension bootstrap and template</li>
</ul>

<h2 id="文档">文档</h2>

<ul>
 <li><a href="https://wiki.mozilla.org/Add-ons/developer/communication">WebExtensions Project Page</a> on the Mozilla Wiki</li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions">How-to guides</a> covering common extension developer cases, like <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">intercepting web requests</a> and <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">adding a button to the toolbar</a></li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">Comparison with the Add-on SDK</a></li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Comparison_with_XUL_XPCOM_extensions">Comparison with XUL/XPCOM extensions</a></li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser compatibility table</a> for all WebExtensions APIs</li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Examples">Examples of extensions</a></li>
</ul>

<h2 id="联系方式">联系方式</h2>

<ul>
 <li>
  <p>您可以使用此 <a href="https://developer.mozilla.org/zh-CN/Add-ons#Contact_us">链接</a> 获取帮助，了解关于拓展的新闻，或给我们发送反馈。</p>
 </li>
</ul>