<div>{{APIRef("Console API")}}</div>

<p><strong><code>Console</code></strong> 对象可以接入浏览器控制台（如：Firefox 的 <a href="/en-US/docs/Tools/Web_Console">Web Console</a>）。在不同浏览器上它的实现细节可能是不一样的，但这里会介绍一些典型的浏览器会提供的特性。</p>

<p><code>Console</code> 对象可以从任何全局对象中访问到，如 {{domxref("Window")}}，{{domxref("WorkerGlobalScope")}} 以及控制台属性中的特殊变量。它被定义为 {{domxref("Window.console")}}，而且可直接通过 <code>console</code> 调用。例：</p>

<pre class="brush: js">console.log("Failed to open the specified link")</pre>

<p>本页面记录了 <code>Console</code> 对象中的 {{anch("Methods")}} 并给出了几个 {{anch("Usage")}} 示例。</p>

<p>{{AvailableInWorkers}}</p>

<div class="blockIndicator note">
<p><strong>提示</strong>: 由于历史原因，<code>console</code> 接口全部被定义为小写（在 i.e. 上不能使用 <code>Console）</code>。</p>
</div>



<h2 id="方法">方法</h2>

<dl>
 <dt>{{domxref("Console.assert()")}}</dt>
 <dd>判断第一个参数是否为真，<code>false</code> 的话抛出异常并且在控制台输出相应信息。</dd>
 <dt>{{domxref("Console.clear()")}}</dt>
 <dd>清空控制台，并输出 <code>Console was cleared</code>。</dd>
 <dt>{{domxref("Console.count()")}}</dt>
 <dd>以参数为标识记录调用的次数，调用时在控制台打印标识以及调用次数。</dd>
 <dt>{{domxref("Console.countReset()")}}</dt>
 <dd>重置指定标签的计数器值。</dd>
 <dt>{{domxref("Console.debug()")}}</dt>
 <dd>在控制台打印一条 <code>"debug"</code> 级别的消息。
 <div class="note"><strong>提示</strong>: 从 Chromium 58 开始，Chromium 浏览器打印的debug消息仅在日志级别为 “Verbose” 时可见。</div>
 </dd>
 <dt>{{domxref("Console.dir()")}}</dt>
 <dd>打印一条以三角形符号开头的语句，可以点击三角展开查看对象的属性。This listing lets you use disclosure triangles to examine the contents of child objects.</dd>
 <dt>{{domxref("Console.dirxml()")}}</dt>
 <dd>打印 XML/HTML 元素表示的指定对象，否则显示 JavaScript 对象视图。</dd>
 <dt>{{domxref("Console.error()")}}</dt>
 <dd>打印一条错误信息，使用方法可以参考 <a href="/en-US/docs/Web/API/console#Using_string_substitutions">string substitution</a>。</dd>
 <dt>{{domxref("Console.exception()")}} {{Non-standard_inline}} {{deprecated_inline}}</dt>
 <dd><code>error()</code> 方法的别称。</dd>
 <dt>{{domxref("Console.group()")}}</dt>
 <dd>Creates a new inline <a href="/en-US/docs/Web/API/console#Using_groups_in_the_console">group</a>, indenting all following output by another level. To move back out a level, call <code>groupEnd()</code>.</dd>
 <dt>{{domxref("Console.groupCollapsed()")}}</dt>
 <dd>创建一个新的内联 <a href="/en-US/docs/Web/API/console#Using_groups_in_the_console">group</a>。使用方法和 <code>group()</code> 相同，不同的是，<code>groupCollapsed()</code> 方法打印出来的内容默认是折叠的。To move back out a level, call <code>groupEnd()</code>.</dd>
 <dt>{{domxref("Console.groupEnd()")}}</dt>
 <dd>Exits the current inline <a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Using_groups_in_the_console">group</a>.</dd>
 <dt>{{domxref("Console.info()")}}</dt>
 <dd>Informative logging of information. You may use <a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions">string substitution</a> and additional arguments with this method.</dd>
 <dt>{{domxref("Console.log()")}}</dt>
 <dd>For general output of logging information. You may use <a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions">string substitution</a> and additional arguments with this method.</dd>
 <dt>{{domxref("Console.profile()")}} {{Non-standard_inline}}</dt>
 <dd>Starts the browser's built-in profiler (for example, the <a href="/en-US/docs/Tools/Performance">Firefox performance tool</a>). You can specify an optional name for the profile.</dd>
 <dt>{{domxref("Console.profileEnd()")}} {{Non-standard_inline}}</dt>
 <dd>Stops the profiler. You can see the resulting profile in the browser's performance tool (for example, the <a href="/en-US/docs/Tools/Performance">Firefox performance tool</a>).</dd>
 <dt>{{domxref("Console.table()")}}</dt>
 <dd>将列表型的数据打印成表格。</dd>
 <dt>{{domxref("Console.time()")}}</dt>
 <dd>Starts a <a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Timers">timer</a> with a name specified as an input parameter. Up to 10,000 simultaneous timers can run on a given page.</dd>
 <dt>{{domxref("Console.timeEnd()")}}</dt>
 <dd>结束特定的计时器 and logs the elapsed time in seconds since it started。</dd>
 <dt>{{domxref("Console.timeLog()")}}</dt>
 <dd>Logs the value of the specified <a href="/en-US/docs/Web/API/console#Timers">timer</a> to the console.</dd>
 <dt>{{domxref("Console.timeStamp()")}} {{Non-standard_inline}}</dt>
 <dd>添加一个标记到浏览器的 <a href="https://developer.chrome.com/devtools/docs/timeline">Timeline</a> 或 <a href="https://developer.mozilla.org/en-US/docs/Tools/Performance/Waterfall">Waterfall</a> 工具。</dd>
 <dt>{{domxref("Console.trace()")}}</dt>
 <dd>输出一个 <a href="/en-US/docs/Web/API/console#Stack_traces">stack trace</a>。</dd>
 <dt>{{domxref("Console.warn()")}}</dt>
 <dd>打印一个警告信息，可以使用 <a href="/en-US/docs/Web/API/console#Using_string_substitutions">string substitution</a> 和额外的参数。</dd>
</dl>

<h2 id="Usage" name="Usage">用法</h2>

<h3 id="输出文本到控制台">输出文本到控制台</h3>

<p>console 对象中较多使用的主要有四个方法 {{domxref("console.log()")}}, {{domxref("console.info()")}}, {{domxref("console.warn()")}}, 和{{domxref("console.error()")}}。每一个结果在日志中都有不同的样式，可以使用浏览器控制台的日志筛选功能筛选出感兴趣的日志信息。</p>

<p>有两种途径使用这些方法，你可以简单的传入一组对象，其中的字符串对象会被连接到一起，输出到控制台。或者你可以传入包含零个或多个的替换的字符串，后面跟着被替换的对象列表。</p>

<h4 id="打印单个对象">打印单个对象</h4>

<p>The simplest way to use the logging methods is to output a single object:</p>

<pre class="brush: js">var someObject = { str: "Some text", id: 5 };
console.log(someObject);
</pre>

<p>打印结果类似下面:</p>

<pre>[09:27:13.475] ({str:"Some text", id:5})</pre>

<h4 id="打印多个对象">打印多个对象</h4>

<p>你可以打印多个对象，就像下面一样：</p>

<pre class="brush: js">var car = "Dodge Charger";
var someObject = { str: "Some text", id: 5 }; 
console.info("My first car was a", car, ". The object is:", someObject);</pre>

<p>打印结果类似下面：</p>

<pre>[09:28:22.711] My first car was a Dodge Charger . The object is: ({str:"Some text", id:5})</pre>

<h4 id="使用字符串替换">使用字符串替换</h4>

<p>你可以在传递给 console 的方法的时候使用下面的字符以期进行参数的替换。</p>

<table class="standard-table" style="width: auto;">
 <tbody>
  <tr>
   <td class="header">Substitution string</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>%o</code> or <code>%O</code></td>
   <td>打印 JavaScript 对象，可以是整数、字符串或是 JSON 数据。Clicking the object name opens more information about it in the inspector.</td>
  </tr>
  <tr>
   <td><code>%d</code> or <code>%i</code></td>
   <td>打印整数。Number formatting is supported, for example  <code>console.log("Foo %.2d", 1.1)</code> will output the number as two significant figures with a leading 0: <code>Foo 01</code></td>
  </tr>
  <tr>
   <td><code>%s</code></td>
   <td>打印字符串。</td>
  </tr>
  <tr>
   <td><code>%f</code></td>
   <td>打印浮点数。Formatting is supported, for example  <code>console.log("Foo %.2f", 1.1)</code> will output the number to 2 decimal places: <code>Foo 1.10</code></td>
  </tr>
 </tbody>
</table>

<div class="note">
<p><strong>注意</strong>：Chrome 不支持精确格式化。</p>
</div>

<p>当要替换的参数类型和预期的打印类型不同时，参数会被转换成预期的打印类型。</p>

<pre>for (var i=0; i&lt;5; i++) {
  console.log("Hello, %s. You've called me %d times.", "Bob", i+1);
}
</pre>

<p>输出样例如下所示：</p>

<pre>[13:14:13.481] Hello, Bob. You've called me 1 times.
[13:14:13.483] Hello, Bob. You've called me 2 times.
[13:14:13.485] Hello, Bob. You've called me 3 times.
[13:14:13.487] Hello, Bob. You've called me 4 times.
[13:14:13.488] Hello, Bob. You've called me 5 times.
</pre>

<h4 id="为控制台定义样式">为控制台定义样式</h4>

<p>你可以使用 <code>%c</code> 为打印内容定义样式：</p>

<pre class="brush: js">console.log("This is %cMy stylish message", "color: yellow; font-style: italic; background-color: blue;padding: 2px");</pre>

<div>The text before the directive will not be affected, but the text after the directive will be styled using the CSS declarations in the parameter.</div>

<div><img alt="" src="https://mdn.mozillademos.org/files/12527/CSS-styling.png" style="display: block; margin: 0 auto;"></div>

<div class="note">
<p><strong>Note</strong>: Quite a few CSS properties are supported by this styling; you should experiment and see which ones prove useful.</p>
</div>

<h3 id="Using_groups_in_the_console">Using groups in the console</h3>

<p>You can use nested groups to help organize your output by visually combining related material. To create a new nested block, call <code>console.group()</code>. The <code>console.groupCollapsed()</code> method is similar but creates the new block collapsed, requiring the use of a disclosure button to open it for reading.</p>

<div class="note"><strong>Note:</strong> Collapsed groups are not supported yet in Gecko; the <code>groupCollapsed()</code> method is the same as <code>group()</code> at this time.</div>

<p>To exit the current group, simply call <code>console.groupEnd()</code>. For example, given this code:</p>

<pre class="brush: js">console.log("This is the outer level");
console.group();
console.log("Level 2");
console.group();
console.log("Level 3");
console.warn("More of level 3");
console.groupEnd();
console.log("Back to level 2");
console.groupEnd();
console.debug("Back to the outer level");
</pre>

<p>执行结果:</p>

<p><img alt="nesting.png" class="default internal" src="/@api/deki/files/6082/=nesting.png"></p>

<h3 id="定时器">定时器</h3>

<p>In order to calculate the duration of a specific operation, Gecko 10 introduced the support of timers in the <code>console</code> object. To start a timer, call the <code>console.time()</code> method, giving it a name as the only parameter. To stop the timer, and to get the elapsed time in milliseconds, just call the <code>console.timeEnd()</code> method, again passing the timer's name as the parameter. Up to 10,000 timers can run simultaneously on a given page.</p>

<p>For example, given this code:</p>

<pre class="brush: js">console.time("answer time");
alert("Click to continue");
console.timeLog("answer time");
alert("Do a bunch of other stuff...");
console.timeEnd("answer time");
</pre>

<p>Will log the time needed by the user to dismiss the alert box, log the time to the console, wait for the user to dismiss the second alert, and then log the ending time to the console:</p>

<p><img alt="timerresult.png" class="default internal" src="https://mdn.mozillademos.org/files/16113/console-timeLog.png" style="border: 1px solid black; height: 102px; margin: 0 auto; width: 318px;"></p>

<p>Notice that the timer's name is displayed both when the timer is started and when it's stopped.</p>

<div class="note"><strong>Note:</strong> It's important to note that if you're using this to log the timing for network traffic, the timer will report the total time for the transaction, while the time listed in the network panel is just the amount of time required for the header. If you have response body logging enabled, the time listed for the response header and body combined should match what you see in the console output.</div>

<h3 id="堆栈跟踪">堆栈跟踪</h3>

<p>The console object also supports outputting a stack trace; this will show you the call path taken to reach the point at which you call {{domxref("console.trace()")}}. Given code like this:</p>

<pre class="brush: js">function foo() {
  function bar() {
    console.trace();
  }
  bar();
}

foo();
</pre>

<p>控制台的输出：</p>

<p><img alt="" src="https://mdn.mozillademos.org/files/7167/api-trace2.png" style="display: block; margin-left: auto; margin-right: auto;"></p>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">备注</th>
  </tr>
  <tr>
   <td>{{SpecName('Console API')}}</td>
   <td>{{Spec2('Console API')}}</td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you'd like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<p>{{Compat("api.Console")}}</p>

<h2 id="注意">注意</h2>

<ul>
 <li>在 Firefox 浏览器中，如果页面中自己定义了 console 对象，那么它会覆盖掉浏览器内置的 console 对象，在其它浏览器可能也是。</li>
 <li>{{Gecko("12.0")}} 之前的版本中，console 对象中的方法仅在控制台打开的情况下才会执行。{{Gecko("12.0")}} 之后，控制台未打开时要打印的内容会被缓存，打开控制台时就会把它们全部打印出来。</li>
 <li>值得注意的是，Firefox 内置的 <code>Console</code> 对象与 <a href="http://getfirebug.com/">Firebug</a> 插件中的是相互兼容的。</li>
</ul>

<h2 id="相关文档">相关文档</h2>

<ul>
 <li><a href="/en-US/docs/Tools" title="Tools">Tools</a></li>
 <li><a href="/en-US/docs/Tools/Web_Console" title="Web Console">Web Console</a> - Firefox 浏览器控制台如何处理 console API 的调用</li>
 <li><a href="/en-US/docs/Tools/Remote_Debugging">Remote debugging</a> - 如何在调试移动设备时查看控制台输出。</li>
</ul>

<h3 id="其他实现">其他实现</h3>

<ul>
 <li><a href="https://developers.google.com/chrome-developer-tools/docs/console-api">Google Chrome DevTools</a></li>
 <li><a href="https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide/console/console-api">Microsoft Edge DevTools</a></li>
 <li><a href="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/Console/Console.html">Safari Web Inspector</a></li>
</ul>