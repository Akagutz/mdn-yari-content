<p>{{ ApiRef("DOM") }}</p>

<p> <code><strong>Document.visibilityState</strong></code> （只读属性）, 返回{{domxref('document')}}的可见性, 即当前可见元素的上下文环境. 由此可以知道当前文档(即为页面)是在背后, 或是不可见的隐藏的标签页，或者(正在)预渲染.可用的值如下：</p>

<ul>
 <li><code>'visible'</code> : 此时页面内容至少是部分可见. 即此页面在前景标签页中，并且窗口没有最小化.</li>
 <li><code>'hidden</code>' : 此时页面对用户不可见. 即文档处于背景标签页或者窗口处于最小化状态，或者操作系统正处于 '锁屏状态' .</li>
 <li><code>'prerender'</code> : 页面此时正在渲染中, 因此是不可见的 (considered hidden for purposes of <code>document.hidden</code>). 文档只能从此状态开始，永远不能从其他值变为此状态.注意: 浏览器支持是可选的.</li>
 <li><code>'unloaded</code>' : 页面从内存中卸载清除. 注意: 浏览器支持是可选的.</li>
</ul>

<p>当此属性的值改变时, 会递交 {{event('visibilitychange')}} 事件给{{domxref("Document")}}.</p>

<p>典型用法是防止当页面正在渲染时加载资源, 或者当页面在背景中或窗口最小化时禁止某些活动.</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">var <em>string</em> = document.visibilityState</pre>

<h2 id="示例">示例</h2>

<pre class="brush:js; line-numbers  language-js"><code class="language-js">document<span class="punctuation token">.</span><span class="function token">addEventListener</span><span class="punctuation token">(</span><span class="string token">"visibilitychange"</span><span class="punctuation token">,</span> <span class="keyword token">function</span><span class="punctuation token">(</span><span class="punctuation token">)</span> <span class="punctuation token">{</span>
  console<span class="punctuation token">.</span><span class="function token">log</span><span class="punctuation token">(</span> document<span class="punctuation token">.</span>visibilityState <span class="punctuation token">)</span><span class="punctuation token">;
  // Modify behavior...</span>
<span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span></code></pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th>Specification</th>
   <th>Status</th>
   <th>Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('Page Visibility API','#dom-document-visibilitystate', 'Document.visibilityState')}}</td>
   <td>{{Spec2('Page Visibility API')}}</td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{CompatibilityTable}}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>13 {{property_prefix("webkit")}}<br>
    33</td>
   <td>{{CompatGeckoDesktop(18)}} [2]</td>
   <td>10</td>
   <td>12.10[1]</td>
   <td>7</td>
  </tr>
  <tr>
   <td><code>prerender</code></td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatGeckoDesktop(49)}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>4.4 {{property_prefix("webkit")}}</td>
   <td>{{CompatGeckoMobile(18)}} [2]</td>
   <td>{{CompatUnknown}}</td>
   <td>12.10[1]</td>
   <td>7</td>
  </tr>
  <tr>
   <td><code>prerender</code></td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatGeckoMobile(49)}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatUnknown}}{{CompatUnknown}}</td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Doesn't fire the {{event('visibilitychange')}} event when the browser window is minimized, nor set <code>hidden</code> to <code>true</code>.</p>

<p>[2] From Firefox 10 to Firefox 51 included, this property could be used prefixed with <code>-moz-</code>.</p>