<div><font><font>{{DefaultAPISidebar（“ Frame Timing API”）}} {{SeeCompatTable}}</font></font></div>

<p><font><font>该</font></font><strong><code>PerformanceFrameTiming</code></strong><font><font>界面提供</font><font>有关浏览器事件循环的</font></font><em><font><font>帧</font></font></em><font><font>计时数据。</font><font>一</font></font><em><font><font>帧</font></font></em><font><font>表示浏览器在</font></font><a href="https://html.spec.whatwg.org/multipage/webappapis.html#processing-model-8"><font><font>一个事件循环迭代</font></font></a><font><font>中所做的工作量，</font><font>例如处理DOM事件，调整大小，滚动，渲染，CSS动画等</font><font>。60Hz刷新速率的</font></font><em><font><font>帧率</font></font></em><font><font>为60 fps（每秒帧），良好</font></font><em><font><font>响应</font></font></em><font><font>用户体验</font><font>的共同目标</font><font>。</font><font>这意味着浏览器应在大约16.7毫秒内处理一个帧。</font></font></p>

<p><font><font>应用程序可以为</font></font><code>frame</code><font><font>“ {{domxref（“ PerformanceEntry”，“性能条目类型”）}} </font><font>注册{{domxref（“ PerformanceObserver </font><font>”）}}。</font><font>该</font></font><em><font><font>观测</font></font></em><font><font>时新“（回调）将被通报</font></font><code>frame</code><font><font>”事件添加到浏览器的</font></font><em><font><font>性能时间表</font></font></em><font><font>和框架的{{domxref（“PerformanceEntry.duration”，“持续时间”）}}（时间）将可用。</font><font>此数据可用于帮助识别需要太长时间才能提供良好用户体验的区域。</font></font></p>

<p><font><font>本文档中描述的接口的示例代码包含在“ </font></font><em><a href="/Web/API/Frame_Timing_API/Using_the_Frame_Timing_API"><font><font>使用帧定时API”中</font></font></a></em><font><font>。</font></font></p>

<h2 id="性能_frames"><font><font>性能 </font></font><code>frames</code></h2>

<p>The {{domxref("PerformanceFrameTiming")}} interface extends the following {{domxref("PerformanceEntry")}} properties (for "<code>frame</code>" {{domxref("PerformanceEntry.entryType","performance entry types")}}) by qualifying and constrainting the properties as follows:</p>

<dl>
 <dt>{{domxref("PerformanceEntry.entryType")}}</dt>
 <dd>Set to "<code>frame</code>".</dd>
 <dt>{{domxref("PerformanceEntry.name")}}</dt>
 <dd>Set to the <a href="https://dom.spec.whatwg.org/#concept-document-url">document's address</a>.</dd>
 <dt>{{domxref("PerformanceEntry.startTime")}}</dt>
 <dd>Set to the {{domxref("DOMHighResTimeStamp")}} when the frame was started.</dd>
 <dt>{{domxref("PerformanceEntry.duration")}}</dt>
 <dd>Set to a {{domxref("DOMHighResTimeStamp","timestamp")}} indicating the difference between the <code>startTime</code>s of two successive frames.</dd>
</dl>

<p>This data, particularly the <code>duration</code> timestamp, can be used to help identify performance problems.</p>

<h2 id="Frame_observers">Frame observers</h2>

<p>{{experimental_inline}}The <em>performance observer</em> interfaces allow an application to register an <em>observer</em> for specific {{domxref("PerformanceEntry","performance event types")}}. When one of those event types is recorded in the browser's <em>performance timeline</em>, the application is notified of the event via the observer's callback function that was specified when the observer was created.</p>

<p>To observe "<code>frame</code>" performance entry types, the application first creates a {{domxref("PerformanceObserver")}} object with a specific frame observer callback (function). Next, {{domxref("PerformanceObserver.observe()")}} is used to specify the set of performance events to observe - in this case, just the "<code>frame</code>" event type. When the browser adds a new frame to the performance timeline, the specified observer callback will be invoked.</p>

<h2 id="Accessing_frame_data">Accessing frame data</h2>

<p><font><font>调用框架{{domxref（“ PerformanceObserver”，“观察者”）}}时，可以通过调用{{domxref（“ PerformanceObserverEntryList.getEntriesByType（ ）“）}}，参数为” </font></font><code>frame</code><font><font>“。</font><font>此方法返回一个“ </font></font><code>frame</code><font><font>” {{domxref（“ PerformanceEntry”）}}对象的列表。</font><font>每个帧对象的{{domxref（“ PerformanceEntry.duration”，“ duration”）}}属性返回两个连续帧的时间戳。</font><font>如果此值大于提供良好用户体验所需的时间，则可能需要进一步分析。</font></font></p>

<h2 id="浏览器兼容性"><font><font>浏览器兼容性</font></font></h2>

<p><font><font>{{experimental_inline}}如{{domxref（“ PerformanceFrameTiming”）}}界面的“ </font></font><a href="/Web/API/PerformanceFrameTiming#Browser_compatibility"><font><font>浏览器兼容性”</font></font></a><font><font>表中所示，此界面没有任何实现。</font></font></p>

<h2 id="也可以看看"><font><font>也可以看看</font></font></h2>

<ul>
 <li><a href="/docs/Tools/Performance/Frame_rate"><font><font>帧速率（Firefox性能工具）</font></font></a></li>
 <li><a href="/Web/API/Frame_Timing_API/Using_the_Frame_Timing_API"><font><font>使用帧计时API</font></font></a></li>
</ul>