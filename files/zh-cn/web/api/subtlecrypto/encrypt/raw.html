<p>{{APIRef("Web Crypto API")}}</p>

<p><code><strong>SubtleCrypto.encrypt() </strong>方法以算法、密钥、</code>明文<code>为参数返回一个包含加密数据的</code>{{jsxref("Promise")}}对象。</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">var <em>result</em> = <em>crypto</em><code>.encrypt(<em>algo</em>, <em>key</em>, <em>cleartext</em>)</code>;
</pre>

<h2 id="属性">属性</h2>

<ul>
 <li><em><code>algo</code></em> 是一个使用加密函数的对象或者{{domxref("DOMString")}}，后者是 <code>{"name": algo}的缩写</code>。支持的值是:

  <ul>
   <li><code>{"name": "AES-CBC", iv}</code> <code><em>iv</em></code> 是具有16个随机字节的 {{jsxref("ArrayBuffer")}} 或 {{jsxref("ArrayBufferView")}}  (这些应该由{domxref("RandomSource.getRandomValues()")}} 生成)。</li>
   <li><code>{"name": "AES-CTR", counter, length}</code></li>
   <li><code>{"name": "AES-GCM", iv, additionalData, tagLength}</code> (<em><code>additionalData</code></em> 和 <code><em>tagLength</em></code> 是可选的)</li>
   <li><code>{"name": "RSA-OAEP", label}</code> (<code><em>label</em></code> 是可选的)</li>
  </ul>
 </li>
 <li><code><em>key</em></code> 是一个包含签名密钥的 {{domxref("CryptoKey")}}。</li>
 <li><em><code>cleartext </code></em><code>是一个包含需要加密的明文</code> {{jsxref("ArrayBuffer")}} 或者 {{jsxref("ArrayBufferView")}} 对象。</li>
</ul>

<h2 id="返回">返回</h2>

<ul>
 <li><font face="Consolas, Liberation Mono, Courier, monospace">返回值是一个</font>{{jsxref("Promise")}}对象，返回一个由{{glossary("cleartext")}}加密生成的{{glossary("ciphertext")}}的 {{jsxref("ArrayBuffer")}}。</li>
</ul>

<h2 id="例外">例外</h2>

<p>当遇到以下异常时，promise将会返回一次错误:</p>

<ul>
 <li>{{exception("InvalidAccessError")}}当加密密钥不是所请求的加密算法的密钥时，或者当试图使用未知或不适合加密的算法时。</li>
</ul>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{ SpecName('Web Crypto API', '#dfn-SubtleCrypto-method-encrypt', 'SubtleCrypto.encrypt()') }}</td>
   <td>{{ Spec2('Web Crypto API') }}</td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器支持">浏览器支持</h2>

<p>{{ CompatibilityTable() }}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{ CompatChrome(37) }}</td>
   <td>{{ CompatGeckoDesktop(34) }}</td>
   <td>{{ CompatNo }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatNo }}</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>37</td>
   <td>{{ CompatGeckoMobile(34) }}</td>
   <td>{{ CompatNo }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatNo }}</td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="另见">另见</h2>

<ul>
 <li>{{domxref("Crypto")}} and {{domxref("Crypto.subtle")}}.</li>
 <li>{{domxref("SubtleCrypto")}}, the interface it belongs to.</li>
</ul>