<div>
<p>{{ APIRef("DOM") }}</p>
</div>

<p><strong><code>TreeWalker</code></strong> 对象表示一个当前文档的子树中的所有节点及其位置。</p>

<p>可以使用{{domxref("Document.createTreeWalker()")}} 方法创建一个TreeWalker。</p>

<h2 id="Properties" name="Properties">属性</h2>

<p><em>本接口未继承任何属性</em></p>

<dl>
 <dt>{{domxref("TreeWalker.root")}} {{readonlyInline}}</dt>
 <dd>返回一个 {{domxref("Node")}} 表示创建时所使用的根节点。</dd>
 <dt>{{domxref("TreeWalker.whatToShow")}} {{readonlyInline}}</dt>
 <dd>Returns an <code>unsigned long</code> being a bitmask made of constants describing the types of {{domxref("Node")}} that must to be presented. Non-matching nodes are skipped, but their children may be included, if relevant. The possible values are:
 <table class="standard-table">
  <tbody>
   <tr>
    <td class="header">Constant</td>
    <td class="header">数值</td>
    <td class="header">描述</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ALL</code></td>
    <td><code>-1</code> (that is the max value of <code>unsigned long</code>)</td>
    <td>显示所有节点</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ATTRIBUTE</code> {{deprecated_inline}}</td>
    <td><code>2</code></td>
    <td>Shows attribute {{ domxref("Attr") }} nodes. This is meaningful only when creating a {{ domxref("TreeWalker") }} with an {{ domxref("Attr") }} node as its root; in this case, it means that the attribute node will appear in the first position of the iteration or traversal. Since attributes are never children of other nodes, they do not appear when traversing over the document tree.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_CDATA_SECTION</code> {{deprecated_inline}}</td>
    <td><code>8</code></td>
    <td>Shows {{ domxref("CDATASection") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_COMMENT</code></td>
    <td><code>128</code></td>
    <td>Shows {{ domxref("Comment") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT</code></td>
    <td><code>256</code></td>
    <td>Shows {{ domxref("Document") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT_FRAGMENT</code></td>
    <td><code>1024</code></td>
    <td>Shows {{ domxref("DocumentFragment") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT_TYPE</code></td>
    <td><code>512</code></td>
    <td>Shows {{ domxref("DocumentType") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ELEMENT</code></td>
    <td><code>1</code></td>
    <td>Shows {{ domxref("Element") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ENTITY</code> {{deprecated_inline}}</td>
    <td><code>32</code></td>
    <td>Shows {{ domxref("Entity") }} nodes. This is meaningful only when creating a {{ domxref("TreeWalker") }} with an {{ domxref("Entity") }} node as its root; in this case, it means that the {{ domxref("Entity") }} node will appear in the first position of the traversal. Since entities are not part of the document tree, they do not appear when traversing over the document tree.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ENTITY_REFERENCE</code> {{deprecated_inline}}</td>
    <td><code>16</code></td>
    <td>Shows {{ domxref("EntityReference") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_NOTATION</code> {{deprecated_inline}}</td>
    <td><code>2048</code></td>
    <td>Shows {{ domxref("Notation") }} nodes. This is meaningful only when creating a {{ domxref("TreeWalker") }} with a {{ domxref("Notation") }} node as its root; in this case, it means that the {{ domxref("Notation") }} node will appear in the first position of the traversal. Since entities are not part of the document tree, they do not appear when traversing over the document tree.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_PROCESSING_INSTRUCTION</code></td>
    <td><code>64</code></td>
    <td>Shows {{ domxref("ProcessingInstruction") }} nodes.</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_TEXT</code></td>
    <td><code>4</code></td>
    <td>Shows {{ domxref("Text") }} nodes.</td>
   </tr>
  </tbody>
 </table>
 </dd>
 <dt>{{domxref("TreeWalker.filter")}} {{readonlyInline}}</dt>
 <dd>根据不同的 {{domxref("节点过滤器")}}返回 相关节点.</dd>
 <dt>{{domxref("TreeWalker.expandEntityReferences")}} {{readonlyInline}}{{obsolete_inline}}</dt>
 <dd>Is a {{domxref("Boolean")}} indicating if, when discarding an {{domxref("EntityReference")}} its whole sub-tree must be discarded at the same time.</dd>
 <dt>{{domxref("TreeWalker.currentNode")}}</dt>
 <dd>任何遍历方法在上一次遍历中返回的{{domxref("节点")}} .</dd>
</dl>

<h2 id="Methods" name="Methods">方法</h2>

<p><em>此接口不继承任何方法。</em></p>

<div class="note">
<p><em>注意：TreeWalker只遍历可显示元素。</em></p>
</div>

<dl>
 <dt>{{domxref("TreeWalker.parentNode()")}}</dt>
 <dd>遍历到当前 {{domxref("节点")}}的父节点, 并返回. It also moves the current node to this one. If no such node exists, or if it is before that the <em>root</em><em> node</em> defined at the object construction, returns <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.firstChild()")}}</dt>
 <dd>遍历到当前 {{domxref("节点")}}的第一个子节点, 并返回. It also moves the current node to this child. If no such child exists, returns <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.lastChild()")}}</dt>
 <dd>遍历到当前 {{domxref("节点")}}的最后一个子节点, 并返回. It also moves the current node to this child. If no such child exists, returns <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.previousSibling()")}}</dt>
 <dd>遍历到当前 {{domxref("节点")}}的前一个兄弟节点, 并返回. If there is no such node, return <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.nextSibling()")}}</dt>
 <dd>遍历到当前 {{domxref("节点")}}的后一个兄弟节点, 并返回.. If there is no such node, return <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.previousNode()")}}</dt>
 <dd>Moves the current {{domxref("Node")}} to the previous <em>visible</em> node in the document order, and returns the found node. It also moves the current node to this one. If no such node exists,or if it is before that the <em>root</em><em> node</em> defined at the object construction, returns <code>null</code> and the current node is not changed.</dd>
 <dt>{{domxref("TreeWalker.nextNode()")}}</dt>
 <dd>Moves the current {{domxref("Node")}} to the next <em>visible</em> node in the document order, and returns the found node. It also moves the current node to this one. If no such node exists, returns <code>null</code> and the current node is not changed.</dd>
</dl>

<h2 id="Specification" name="Specification">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('DOM WHATWG', '#treeWalker', 'TreeWalker')}}</td>
   <td>{{Spec2('DOM WHATWG')}}</td>
   <td>Removed the <code>expandEntityReferences</code> property.</td>
  </tr>
  <tr>
   <td>{{SpecName('DOM2 Traversal_Range', 'traversal.html#Traversal-TreeWalker', 'TreeWalker')}}</td>
   <td>{{Spec2('DOM2 Traversal_Range')}}</td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{CompatibilityTable}}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>1.0</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatGeckoDesktop("1.8.1")}}</td>
   <td>9.0</td>
   <td>9.0</td>
   <td>3.0</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>{{CompatGeckoMobile("1.8.1")}}</td>
   <td>{{CompatVersionUnknown}}</td>
   <td>9.0</td>
   <td>3.0</td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li>The creator method: {{domxref("Document.createTreeWalker()")}}.</li>
 <li>Related interfaces: {{domxref("NodeFilter")}}, {{domxref("NodeIterator")}}.</li>
</ul>