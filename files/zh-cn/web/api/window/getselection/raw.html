<div>{{ ApiRef() }}</div>

<h2 id="Summary" name="Summary">概述</h2>

<p><span style="line-height: 1.5;">返回一个 </span> {{domxref("Selection")}}<span style="line-height: 1.5;"> 对象，</span>表示用户选择的文本范围或光标的当前位置。</p>

<h2 id="Syntax" name="Syntax">语法</h2>

<pre class="syntaxbox"><em>const selection</em> = <em>window</em>.getSelection() ;</pre>

<ul>
 <li><code>selection</code> 是一个 {{domxref("Selection")}} 对象。 如果想要将 <code>selection</code> 转换为字符串，可通过连接一个空字符串（""）或使用 {{jsxref("String.toString()")}} 方法。</li>
</ul>

<h2 id="Example" name="Example">示例</h2>

<pre class="brush:js">function foo() {
    let selObj = window.getSelection(); 
    console.log(selObj);
    let selRange = selObj.getRangeAt(0);
    // 其他代码
}</pre>

<h2 id="备注">备注</h2>

<p>在  JavaScript中，当一个对象被传递给期望字符串作为参数的函数中时（如 {{ Domxref("window.alert") }} 或 {{ Domxref("document.write") }}），对象的{{jsxref("Object.toString","toString()")}}方法会被调用，然后将返回值传给该函数。</p>

<p>在上例中，<code>selObj.toString()</code> 会在传递到 {{domxref("window.alert()")}}时自动调用。然而，当你试图在 {{domxref("Selection")}} 对象上使用一个 JavaScript 的{{jsxref("Global_Objects/String", "String")}} 对象上的属性或者方法时（如 {{jsxref("String.prototype.length")}} 或者 {{jsxref("String.prototype.substr()")}}），会导致错误（如果没有相应的属性或方法时）或返回不是期望的结果（如果存在相应的属性或方法）。如果想要将 <code>Selection</code> 对象作为一个字符串使用，请直接调用 <code>toString()</code> <span style="font-family: 'Courier New','Andale Mono',monospace; line-height: 1.5;">方法：</span></p>

<pre class="brush:js;gutter:false;">var selectedText = selObj.toString();</pre>

<ul>
 <li><code>selObj</code> 是一个<code>Selection</code> 对象，</li>
 <li><code>selectedText</code> 是一个字符串（被选中的文本）。</li>
</ul>

<p>另外，你还可以使用 {{domxref("Document.getSelection()")}}，两个方法等价。</p>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{ CompatibilityTable() }}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>Yes</td>
   <td>Yes</td>
   <td>                 9</td>
   <td>{{ CompatVersionUnknown() }}</td>
   <td>{{ CompatVersionUnknown() }}</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
   <td>{{ CompatUnknown() }}</td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="规范"><span style="font-size: 2.142857142857143rem;">规范</span></h2>

<p><a href="https://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections" style="line-height: 1.5;">HTML Editing APIs</a></p>

<h2 id="See_also" name="See_also">相关链接</h2>

<ul>
 <li>{{domxref("Selection")}}</li>
 <li>{{domxref("Range")}}</li>
 <li>{{domxref("Document.getSelection()")}}</li>
</ul>

<p> </p>
