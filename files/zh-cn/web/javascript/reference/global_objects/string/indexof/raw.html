<div>{{JSRef}}</div>

<p><code><strong>indexOf()</strong></code> 方法返回调用它的 {{jsxref("String")}} 对象中第一次出现的指定值的索引，从 <code>fromIndex</code> 处进行搜索。如果未找到该值，则返回 -1。</p>

<div>{{EmbedInteractiveExample("pages/js/string-indexof.html")}}</div>

<p class="hidden">The source for this interactive example is stored in a GitHub repository. If you'd like to contribute to the interactive examples project, please clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> and send us a pull request.</p>

<div class="note"><strong>Note:</strong> For the Array method, see {{jsxref("Array.prototype.indexOf()")}}.</div>

<h2 id="语法">语法</h2>

<pre class="syntaxbox"><var>str</var>.indexOf(<var>searchValue</var>)
<var>str</var>.indexOf(<var>searchValue</var>, <var>fromIndex</var>)
</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><code>searchValue</code></dt>
 <dd>一个字符串表示被查找的值。如果没有提供确切地提供字符串，<a href="https://tc39.github.io/ecma262/#sec-tostring"><var>searchValue</var> 会被强制设置为 <code>"undefined"</code></a>， 然后在当前字符串中查找这个值。</dd>
 <dt><code>fromIndex</code> {{optional_inline}}</dt>
 <dd>表示开始查找的位置。可以是任意整数，默认值为 <code>0</code>。如果 <code>fromIndex</code> 小于 <code>0</code>，则查找整个字符串（等价于传入了 <code>0</code>）。如果 <code>fromIndex</code> 大于等于 <code>str.length</code>，则必返回 <code>-1</code>。</dd>
</dl>

<h3 id="返回值">返回值</h3>

<p>指定值的第一次出现的索引；如果没有找到，则返回 <strong>-1</strong>。若被查找的字符串是一个空字符串，则返回值在<code>0</code>---<code>str.length</code> 之间，即：</p>

<ul>
 <li><code>fromIndex</code> 小于等于 <code>0</code> 时，返回 <code>0</code>；</li>
 <li><code>fromIndex</code> 大于 <code>0</code> 且小于等于 <code>str.length</code> 时，返回 <code>fromIndex</code>；</li>
 <li><code>fromIndex</code> 大于字符串长度 <code>str.length</code> 时，返回 <code>str.length</code>。</li>
</ul>

<h2 id="描述">描述</h2>

<p>字符串中的字符被从左向右索引。首字符的索引（index）为 0，字符串 <code>stringName</code> 的最后一个字符的索引是 <code>stringName.length - 1</code>。</p>

<pre class="brush: js">"Blue Whale".indexOf("Blue");     // 返回  0
"Blue Whale".indexOf("Blute");    // 返回 -1
"Blue Whale".indexOf("Whale", 0); // 返回  5
"Blue Whale".indexOf("Whale", 5); // 返回  5
"Blue Whale".indexOf("", -1); // 返回 0
"Blue Whale".indexOf("", 9);      // 返回  9
"Blue Whale".indexOf("", 10);     // 返回 10
"Blue Whale".indexOf("", 11);     // 返回 10</pre>

<h3 id="Example_indexOf_and_case-sensitivity" name="Example:_indexOf_and_case-sensitivity">区分大小写</h3>

<p><code>indexOf</code> 方法区分大小写。例如，下面的表达式返回 -1：</p>

<pre class="brush: js">"Blue Whale".indexOf("blue") // 返回 -1
</pre>

<h3 id="检测是否存在某字符串">检测是否存在某字符串</h3>

<p>当检测某个字符串是否存在于另一个字符串中时，可使用下面的方法：</p>

<pre class="brush: js">"Blue Whale".indexOf("Blue") !== -1; // true
"Blue Whale".indexOf("Bloe") !== -1; // false</pre>

<h2 id="示例">示例</h2>

<h3 id="Example_Using_indexOf_and_lastIndexOf" name="Example:_Using_indexOf_and_lastIndexOf">使用<code>indexOf()</code> 和 <code>lastIndexOf()</code></h3>

<p>下例使用 <code>indexOf()</code> 和 <code>lastIndexOf()</code> 方法定位字符串中 "<code>Brave new world</code>" 的值。</p>

<pre class="brush: js">var anyString = "Brave new world";

console.log("The index of the first w from the beginning is " + anyString.indexOf("w"));
// logs 8
console.log("The index of the first w from the end is " + anyString.lastIndexOf("w")); 
// logs 10

console.log("The index of 'new' from the beginning is " + anyString.indexOf("new"));   
// logs 6
console.log("The index of 'new' from the end is " + anyString.lastIndexOf("new"));
// logs 6
</pre>

<h3 id="indexOf_和区分大小写"><code>indexOf</code> 和区分大小写</h3>

<p>下例定义了两个字符串变量。两个变量包含相同的字符串，除了第二个字符串中的某些字符为大写。第一个 <code>log</code> 方法输出 19。但是由于 <code>indexOf</code> 方法区分大小写，因此不会在 <code>myCapString</code> 中发现字符串 <code>“cheddar"</code>，所以，第二个 <code>log</code> 方法会输出 -1。</p>

<pre class="brush: js">var myString    = "brie, pepper jack, cheddar";
var myCapString = "Brie, Pepper Jack, Cheddar";

console.log('myString.indexOf("cheddar") is ' + myString.indexOf("cheddar"));    
// logs 19
console.log('myCapString.indexOf("cheddar") is ' + myCapString.indexOf("cheddar")); 
// logs -1</pre>

<h3 id="使用_indexOf_统计一个字符串中某个字母出现的次数">使用 <code>indexOf</code> 统计一个字符串中某个字母出现的次数</h3>

<p>在下例中，设置了 <code>count</code> 来记录字母 <code><font face="Consolas, Liberation Mono, Courier, monospace">e</font></code> 在字符串 <code>str</code> 中出现的次数：</p>

<pre class="brush: js">// 翻译：生存还是毁灭？这是个问题。（莎士比亚《哈姆雷特》）
var str = 'To be, or not to be, that is the question.';
var count = 0;
var pos = str.indexOf('e');

while (pos !== -1) {
  count++;
  pos = str.indexOf('e', pos + 1);
}

console.log(count); // displays 4
</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">说明</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{SpecName('ES1')}}</td>
   <td>{{Spec2('ES1')}}</td>
   <td>Initial definition.</td>
  </tr>
  <tr>
   <td>{{SpecName('ES5.1', '#sec-15.5.4.7', 'String.prototype.indexOf')}}</td>
   <td>{{Spec2('ES5.1')}}</td>
   <td></td>
  </tr>
  <tr>
   <td>{{SpecName('ES6', '#sec-string.prototype.indexof', 'String.prototype.indexOf')}}</td>
   <td>{{Spec2('ES6')}}</td>
   <td></td>
  </tr>
  <tr>
   <td>{{SpecName('ESDraft', '#sec-string.prototype.indexof', 'String.prototype.indexOf')}}</td>
   <td>{{Spec2('ESDraft')}}</td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table in this page is generated from structured data. If you'd like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<p>{{Compat("javascript.builtins.String.indexOf")}}</p>

<h2 id="相关链接">相关链接</h2>

<ul>
 <li>{{jsxref("String.prototype.charAt()")}}</li>
 <li>{{jsxref("String.prototype.lastIndexOf()")}}</li>
 <li>{{jsxref("String.prototype.includes()")}}</li>
 <li>{{jsxref("String.prototype.split()")}}</li>
 <li>{{jsxref("Array.prototype.indexOf()")}}</li>
</ul>